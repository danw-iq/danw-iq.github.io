<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Dropship Point of Sale Guide | iQmetrix Developer Portal</title>

    <style>
      /*.highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #f8f8f2;
  background-color: #272822;
}
.highlight .err {
  color: #151515;
  background-color: #ac4142;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #505050;
}
.highlight .cp {
  color: #f4bf75;
}
.highlight .nt {
  color: #f4bf75;
}
.highlight .o, .highlight .ow {
  color: #d0d0d0;
}
.highlight .p, .highlight .pi {
  color: #d0d0d0;
}
.highlight .gi {
  color: #90a959;
}
.highlight .gd {
  color: #ac4142;
}
.highlight .gh {
  color: #6a9fb5;
  background-color: #151515;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #aa759f;
}
.highlight .kc {
  color: #d28445;
}
.highlight .kt {
  color: #d28445;
}
.highlight .kd {
  color: #d28445;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #90a959;
}
.highlight .sr {
  color: #75b5aa;
}
.highlight .si {
  color: #8f5536;
}
.highlight .se {
  color: #8f5536;
}
.highlight .nn {
  color: #f4bf75;
}
.highlight .nc {
  color: #f4bf75;
}
.highlight .no {
  color: #f4bf75;
}
.highlight .na {
  color: #6a9fb5;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #90a959;
}
.highlight .ss {
  color: #90a959;
}*/
    </style>
    <link href="../../stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="../../stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="../../javascripts/all.js"></script>
  </head>

  <body class="guides guides_dropship-pos-guide guides_dropship-pos-guide_index" data-languages="[]">

    <div class="fixed-top">
      <a class="navbar-logo" href="/"><img src="../../images/splash/iqmetrix-logo-white.png" alt="Brand"/></a>
      <div class="navbar-right">
        <ul class="topnav" id="myTopnav">
          <li><a class="active" href="/">PRODUCTS</a></li>
          <li><a href="/api/changelog">API REFERENCE</a></li>
          <li><a href="/api/changelog">CORE CONCEPTS &amp; GUIDES</a></li>
          <li><a href="/api/changelog">PARTNERS</a></li>
          <li><a href="mailto:apisupport@iqmetrix.com?subject=Support">CONTACT</a></li>
          <li class="icon">
            <a href="javascript:void(0);" style="font-size:15px;" onclick="myFunction()">â˜°</a>
          </li>
        </ul>
      </div>
    </div>
    <div class="breadcrumb">
      <ol>
        <li><a href="{{"/api/" | prepend: site.url}}">API REFERENCE</a></li>
        <li>></li>
        <li>API DOCUMENTATION</li>
        <li>></li>
        <li class="active">CUSTOMER RELATIONSHIP MANAGEMENT (CRM)</li>
      </ol>
    </div>
    <div class="title">
      <h1>API Documentation</h1>
      <p>In depth reference documentation for iQmetrix API's.</p>
    </div>

    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="../../images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <!-- <img src="../../images/logo.png" alt="Logo" /> -->
        <div class="lang-selector">
        </div>
      <!-- 
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
       -->
      <div id="toc">
      </div>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="overview">Overview</h1>

<p>The following document outlines the APIs and calls required for integrating a Point of Sale (POS) with iQmetrix Dropship service. The steps outlined below detail each call needed to create a dropship order in <a href="http://www.iqmetrix.com/products/endless-aisle" target="_blank">Endless Aisle</a> and are meant to be performed sequentially.</p>

<p>Each segment in this guide will provide high-level concepts before describing examples of the API call required. The images shown in this guide are from the RQ Dropship Wizard and are meant for illustrative purposes only.</p>

<p>Hybrid orders, where virtual and physical products are contained in the same order, are not covered in this guide.</p>

<p><strong>Figure 1:</strong> Illustrates the suggested flow for retailers to process a dropship order in their POS.</p>

<p><img class="popUpImage" title="dropship pos flow diagram" src="http://developers.iqmetrix.com/images/dropship-pos-guide/dropship-pos-flow.png"/> </p>

<p>The following APIs will be covered in this guide:</p>

<ul>
<li>Authentication</li>
<li>Customers</li>
<li>Orders</li>
<li>Shipping Aggregator </li>
</ul>

<h2 id="who-is-this-guide-for">Who Is This Guide For?</h2>

<p>The intended audience for this guide are developers who are integrating an existing POS into the dropship program. </p>

<h2 id="onboarding-package">Onboarding Package</h2>

<p>As part of the onboarding process, you will have received an onboarding package from the iQmetrix API team. This package provides you credentials and access details in order to perform the topics covered in this guide. </p>

<p>Should you require information beyond the scope of this guide, or did not receive the onboarding package, contact <a href="mailto:apisupport@iqmetrix.com?subject=Support">Support</a>.</p>

<h2 id="environment">Environment</h2>

<p>iQmetrix provides you with two environments: Sandbox and Production. 
Use the Sandbox environment to test your API and to perform end-to-end testing. After completing this stage proceed to the Production environment.</p>

<p>For more information on environments, see <a href="http://developers.iqmetrix.com/api/#environments">Environment</a>.</p>

<p>The iQmetrix API supports JSON and JSON + HAL. See <a href="http://developers.iqmetrix.com/api/#supported-response-formats">Supported Response Formats</a> for more information.</p>

<p>The <code class="prettyprint">CompanyId</code> and <code class="prettyprint">SupplierEntityId</code> are environment specific. All other variables mentioned are dynamic.</p>

<h1 id="steps">Steps</h1>

<h2 id="step-1-authentication">Step 1 - Authentication</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight plaintext"><code>Authorization: Bearer (Access Token)
</code></pre>

<p>In order to make authorized requests to iQmetrix APIs, you need an <a href="http://developers.iqmetrix.com/glossary/#access-token">Access Token</a>.</p>

<p><strong>Table 1:</strong> Methods for Obtaining an Access Token</p>

<table><thead>
<tr>
<th style="text-align: left">If&hellip;</th>
<th style="text-align: left">Then&hellip;</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">You do not have an Access Token</td>
<td style="text-align: left">See <a href="/api/authentication/#obtaining-an-access-token">Obtaining an Access Token</a></td>
</tr>
<tr>
<td style="text-align: left">You have an Access Token, but it is close to expiring</td>
<td style="text-align: left">See <a href="/api/authentication/#refreshing-an-access-token">Refreshing an Access Token</a></td>
</tr>
</tbody></table>

<p>The token is placed in the <code class="prettyprint">Authorization</code> header of requests to iQmetrix APIs, prefixed by the word <code class="prettyprint">Bearer</code>.</p>

<h2 id="step-2-get-pending-orders">Step 2 - Get Pending Orders</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://orderdemo.iqmetrix.net/v1/Companies(14146)/Orders?$filter=State eq 'Pending' and EntityId eq 14192
Authorization: Bearer (Access Token)
Accept: application/json
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight plaintext"><code>HTTP 200 OK Content-Type: application/json
</code></pre>
<pre class="highlight plaintext"><code>[
    {
        "Id": "fec93378-b4c2-400e-a480-364470920798",
        "OrderTypeId": 1,
        "OrderType": "Sales",
        "State": "Pending",
        "PrintableId": "670K300",
        "Name": "XQ-Shelf Cart 431b4d57-97fd-41b8-868b-7ec099ce57cc",
        "TenderId": null,
        "TenderOrigin": null,
        "SourceId": null,
        "SourceName": null,
        "EntityId": 14192,
        "ShippingEntityId": 0,
        "CustomerId": "e6f05db4-4555-4db6-9b7c-1babfcdbf65a",
        "BillingCustomerId": "e6f05db4-4555-4db6-9b7c-1babfcdbf65a",
        "ShippingCustomerId": "e6f05db4-4555-4db6-9b7c-1babfcdbf65a",
        "ShippingAddressId": "55ec98fe-249f-412c-8831-2c8be983a5b6",
        "BillingAddressId": "55ec98fe-249f-412c-8831-2c8be983a5b6",
        "EmployeeId": 0,
        "DiscountCode": null,
        "DiscountDescription": null,
        "DiscountAmount": 0,
        "CreatedDateUtc": "2016-05-17T22:38:36.9",
        "OrderExpiryHours": 12,
        "OrderExpiryDate": "2016-05-18T10:38:36.9"
    }
]
</code></pre>

<p>When a dropship order is created through Endless Aisle, the only initial requirement from the customer is either their first name or initials. Similar to the image below.</p>

<p><strong>Figure 2:</strong> Displays the checkout screen from Endless Aisle.</p>

<p><img class="popUpImage" title="Endless Aisle checkout screen" src="http://developers.iqmetrix.com/images/dropship-pos-guide/ea-checkout.png"/> </p>

<p>Once the order has been created Endless Aisle,</p>

<ol>
<li>Uses the value entered in the <code class="prettyprint">name</code> field to create a <code class="prettyprint">Customer</code> resource</li>
<li>Creates an <code class="prettyprint">Address</code> resource based on the Endless Aisle device location (the store associated with each device)</li>
<li>Assigns that <code class="prettyprint">Address</code> resource to the <code class="prettyprint">Customer</code> resource</li>
<li>Sets the <code class="prettyprint">CustomerId</code> as the <code class="prettyprint">ShippingCustomerId</code> on the order.</li>
<li>Sets the order to a <code class="prettyprint">Pending</code> state, ready to be picked up by your POS.</li>
</ol>

<p>The first step during the dropship transaction is to get a list of <a href="/api/orders/#getting-pending-orders-by-location">Pending Orders</a> for the given store.  </p>

<p>Keep a note of the Order <code class="prettyprint">Id</code>, the <code class="prettyprint">CustomerId</code>, and the <code class="prettyprint">ShippingAddressId</code> as they will be referenced later in this guide.</p>

<p>The JSON results would appear similar to the figure below.</p>

<p><strong>Figure 3:</strong> Displays the RQ results from pending Endless Aisle orders.</p>

<p><img class="popUpImage" title="list of pending orders in a POS" src="http://developers.iqmetrix.com/images/dropship-pos-guide/pending-orders.png"/> </p>

<h3 id="step-2-1-verifying-order-details">Step 2.1 Verifying Order Details</h3>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://orderdemo.iqmetrix.net/v1/Companies(14146)/OrderFull(fec93378-b4c2-400e-a480-364470920798)
Authorization: Bearer (Access Token)
Accept: application/json
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight plaintext"><code>HTTP 200 Content-Type: application/json
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fec93378-b4c2-400e-a480-364470920798"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"OrderTypeId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"OrderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sales"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pending"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"PrintableId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"670K300"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XQ-Shelf Cart 431b4d57-97fd-41b8-868b-7ec099ce57cc"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"TenderId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"TenderOrigin"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"SourceId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"SourceName"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"EntityId"</span><span class="p">:</span><span class="w"> </span><span class="mi">14192</span><span class="p">,</span><span class="w">
    </span><span class="nt">"ShippingEntityId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"CustomerId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e6f05db4-4555-4db6-9b7c-1babfcdbf65a"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"BillingCustomerId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e6f05db4-4555-4db6-9b7c-1babfcdbf65a"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"ShippingCustomerId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e6f05db4-4555-4db6-9b7c-1babfcdbf65a"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"ShippingAddressId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"55ec98fe-249f-412c-8831-2c8be983a5b6"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"BillingAddressId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"55ec98fe-249f-412c-8831-2c8be983a5b6"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"EmployeeId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"DiscountCode"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"DiscountDescription"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"DiscountAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"CreatedDateUtc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-05-17T22:38:36.9"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"OrderExpiryHours"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w">
    </span><span class="nt">"OrderExpiryDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-05-18T10:38:36.9"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"ItemExtensions"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="nt">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"150fe46f-4d96-4dbf-9606-ca1d0ec9d175"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"OrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fec93378-b4c2-400e-a480-364470920798"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"ItemTypeId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nt">"ItemType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DropShip"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"ItemStatusId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nt">"ItemStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"New"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"ProductId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9ab6ae3c-4766-4a0e-bf21-da941f82298d"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"SupplierEntityId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Cost"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nt">"ListPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nt">"SellingPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">39.99</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Index"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BlackBerry Z10 L-S1 Battery"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"SKU"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Notes"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"SerialNumbers"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="nt">"SupplierReference"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"TrackingInformation"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="nt">"ShippingOptionId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Once you have obtained the Order <code class="prettyprint">Id</code>, the next step is to verify the order contents with the customer by <a href="/api/orders/#getting-an-order-with-items">Getting the Full Order</a>.</p>

<p>Keep a note of the <code class="prettyprint">ProductId</code> (Catalog ID), as it is required to obtain the vendor&rsquo;s shipping options.</p>

<p>The JSON results would appear similar to the figure below. </p>

<p><strong>Figure 4:</strong> Displays the order details in RQ POS. The address shown is the store address where the order took place.</p>

<p><img class="popUpImage" title="orders details in a POS" src="http://developers.iqmetrix.com/images/dropship-pos-guide/order-details.png"/> </p>

<h2 id="step-3-collect-customer-information">Step 3 - Collect Customer Information</h2>

<p>Once the order details have been verified, the next step is to gather the customer information. Remember, the Customer entry from Endless Aisle only includes the customer&rsquo;s name or initials as the reference for the order.</p>

<h3 id="dropship-scenario">Dropship Scenario</h3>

<p>This scenario requires the customer&rsquo;s first and last name, and their shipping address. This scenario also assumes that the customer has come to the sales clerk to complete their Dropship order. </p>

<p>The majority of clients will use their own customer record management systems and it is assumed they will not be synced with the iQmetrix Customers API. </p>

<p>This scenario assumes that you will update the Endless Aisle customer record with the information provided by the customer.  </p>

<h3 id="step-3-1-update-the-customer-details">Step 3.1 - Update the Customer Details</h3>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight plaintext"><code>PUT https://crmdemo.iqmetrix.net/v1/Companies(14146)/Customers(e6f05db4-4555-4db6-9b7c-1babfcdbf65a)
Authorization: Bearer (Access Token)
Accept: application/json
Content-Type: application/json
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"CustomerId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e6f05db4-4555-4db6-9b7c-1babfcdbf65a"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"PrimaryName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bruce"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"FamilyName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Wayne"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"CustomerType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Person"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"CustomerTypeId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Disabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"DoNotContact"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight plaintext"><code>HTTP 201 Content-Type: application/json
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e6f05db4-4555-4db6-9b7c-1babfcdbf65a"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"PrimaryName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bruce"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"MiddleName"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"FamilyName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Wayne"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"AlternateName"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"CustomerType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Person"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"CustomerTypeId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nt">"DateOfBirth"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Disabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"DoNotContact"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Notes"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Title"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>The first step is to <a href="/api/crm/#updating-a-customer">Update the Customer</a>.  Use the <code class="prettyprint">CustomerId</code> referenced from the Order as part of the request.</p>

<h3 id="step-3-2-add-their-contact-method">Step 3.2 - Add their Contact Method</h3>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight plaintext"><code>POST https://crmdemo.iqmetrix.net/v1/Companies(14146)/Customers(e6f05db4-4555-4db6-9b7c-1babfcdbf65a)/ContactMethods
Authorization: Bearer (Access Token)
Accept: application/json
Content-Type: application/json
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"CustomerId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e6f05db4-4555-4db6-9b7c-1babfcdbf65a"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"ContactMethodCategoryId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nt">"ContactMethodTypeId"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Default"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"DoNotContact"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bruce@batman.org"</span><span class="p">,</span><span class="w">
</span><span class="err">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight plaintext"><code>HTTP 201 Content-Type: application/json
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"65c26799-4bc0-4ae4-be7c-ba62886dd0e4"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"CustomerId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f10ca768-519a-4914-b645-2e04863611fa"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"ContactMethodCategory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Email"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"ContactMethodCategoryId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nt">"ContactMethodType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Home"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"ContactMethodTypeId"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Default"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"DoNotContact"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Notes"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bruce@batman.org"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Once you have updated the customer information, the next step is to <a href="/api/crm/#adding-a-customer-contact-method">Add their Contact Method</a>. This contact method could be either email address or phone number, or a combination of the two. </p>

<p>In this example, we are only adding a home email address. </p>

<p><strong>Table 2:</strong> Request Values for Contact Method</p>

<table><thead>
<tr>
<th style="text-align: left">Property</th>
<th style="text-align: left">Value</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ContactMethodTypeId</td>
<td style="text-align: left">9 (for home)</td>
</tr>
<tr>
<td style="text-align: left">ContactMethodCategory</td>
<td style="text-align: left">2 (for email)</td>
</tr>
</tbody></table>

<h3 id="step-3-3-update-their-shipping-address">Step 3.3 - Update their Shipping Address</h3>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight plaintext"><code>PUT https://crmdemo.iqmetrix.net/v1/Companies(14146)/Customers(e6f05db4-4555-4db6-9b7c-1babfcdbf65a)/Addresses(55ec98fe-249f-412c-8831-2c8be983a5b6)
Authorization: Bearer (Access Token)
Accept: application/json
Content-Type: application/json
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"CustomerId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e6f05db4-4555-4db6-9b7c-1babfcdbf65a"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"AddressTypeId"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"StreetAddress1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2150 Summitridge Dr"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Locality"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Beverly Hills"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"StateCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CA"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"CountryCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"PostalCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"90210"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"(555) 555-5555"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ivory@towers.com"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight plaintext"><code>HTTP 201 Content-Type: application/json
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"55ec98fe-249f-412c-8831-2c8be983a5b6"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"CustomerId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e6f05db4-4555-4db6-9b7c-1babfcdbf65a"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"AddressTypeId"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nt">"AddressType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Shipping"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Default"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"DoNotContact"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"CountryCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"United States"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Locality"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Beverly Hills"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"StateCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CA"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"California"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"PostalCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"90210"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"PostOfficeBoxNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nt">"StreetAddress1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2150 Summitridge Dr"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"StreetAddress2"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Notes"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"AttentionTo"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"(555) 555-5555"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ivory@towers.com"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>The next step is to <a href="/api/crm/#updating-a-customer-address">Update the Customer&rsquo;s Shipping Address</a>. Use the <code class="prettyprint">CustomerId</code> and <code class="prettyprint">ShippingAddressId</code> referenced from the Order as part of the request.</p>

<p>The JSON request would appear similar to the figure below.</p>

<p><strong>Figure 5:</strong> Displays the address information for order shipment.</p>

<p><img class="popUpImage" title="address shipment info" src="http://developers.iqmetrix.com/images/dropship-pos-guide/customer-info.png"/> </p>

<h2 id="step-4-add-shipping-options">Step 4 - Add Shipping Options</h2>

<p>The next step is to <a href="/api/saccs/#retrieving-shipping-options">retrieve shipping options</a> from the vendor. </p>

<p>The Shipping Aggregator also verifies the availability of the requested catalog items. If an item is <strong>Out of Stock</strong>, then you must prevent this order from continuing.</p>

<h3 id="step-4-1-retrieve-the-shipping-options">Step 4.1 - Retrieve the Shipping Options</h3>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight plaintext"><code>POST https://shippingaggregatordemo.iqmetrix.net/Companies(14146)/ShippingInformation
Authorization: Bearer (Access Token)
Accept: application/json
Content-Type: application/json
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"LocationEntityId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"14192"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"PostalCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6000"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"CatalogId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9ab6ae3c-4766-4a0e-bf21-da941f82298d"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight plaintext"><code>HTTP 200 Content-Type: application/json
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"Id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"LocationEntityId"</span><span class="p">:</span><span class="w"> </span><span class="mi">14192</span><span class="p">,</span><span class="w">
    </span><span class="nt">"PostalCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6000"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Shipments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"SupplierEntityId"</span><span class="p">:</span><span class="w"> </span><span class="mi">14107</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"CatalogId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9ab6ae3c-4766-4a0e-bf21-da941f82298d"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"Quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"Cost"</span><span class="p">:</span><span class="w"> </span><span class="mf">9.99</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nt">"ShippingOptions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"Cost"</span><span class="p">:</span><span class="w"> </span><span class="mf">7.94</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CAD"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"EstimatedTransitTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1 week"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PurolatorExpress"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>The <code class="prettyprint">CatalogId</code> is the <code class="prettyprint">ProductId</code> noted earlier. The <code class="prettyprint">LocationEntityId</code> is the store location where the Endless Aisle order was created.</p>

<p>Keep a note of the ShippingOptions <code class="prettyprint">Id</code> and <code class="prettyprint">SupplierEntityId</code> in the response, as these are required to add a Shipping Item in the next step.</p>

<p>The JSON response would appear similar to the figure below.</p>

<p><strong>Figure 6:</strong> Displays the POS results from retrieving shipping options.</p>

<p><img class="popUpImage" src="http://developers.iqmetrix.com/images/dropship-pos-guide/shipping-options.png" alt="list of shipping options in a POS" /></p>

<h4 id="step-4-1-1-no-availability">Step 4.1.1 No Availability</h4>

<p>Each time a call is made to retrieve shipping options from the suppliers, the real-time availabilty is requested from their warehouse. If an <code class="prettyprint">HTTP 404</code> error response is returned, then it is possible that this item is no longer in stock. </p>
<pre class="highlight plaintext"><code>HTTP 400 Bad Request Content-Type: application/json
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"No availability found for the following products: BlackBerry Z10 L-S1 Battery"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>The error response would look similar to the following:</p>

<p>It is your responsibility to ensure that this order does not continue and to notify the Supplier of the <strong>Out of Stock</strong> product.</p>

<h3 id="step-4-2-add-a-shipping-item">Step 4.2 - Add a Shipping Item</h3>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight plaintext"><code>POST https://orderdemo.iqmetrix.net/v1/Companies(14146)/Orders(fec93378-b4c2-400e-a480-364470920798)/Items
Authorization: Bearer (Access Token)
Accept: application/json
Content-Type: application/json
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"ItemStatusId"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
    </span><span class="nt">"ItemTypeId"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Cost"</span><span class="p">:</span><span class="w"> </span><span class="mf">7.94</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Vendor Shipping Option"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"ShippingOptionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"SupplierEntityId"</span><span class="p">:</span><span class="w"> </span><span class="mi">14107</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>The next step is to add a <a href="/api/orders/#adding-an-item-to-an-order">Shipping Item</a> to the order. </p>

<p>Ensure that the following values are set correctly:</p>

<p><strong>Table 3:</strong> Request Values for Shipping Item</p>

<table><thead>
<tr>
<th style="text-align: left">Property</th>
<th style="text-align: left">Value</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ItemStatusId</td>
<td style="text-align: left">15 (for shipping)</td>
</tr>
<tr>
<td style="text-align: left">ItemTypeId</td>
<td style="text-align: left">4 (for shipping order)</td>
</tr>
<tr>
<td style="text-align: left">ShippingOptionId</td>
<td style="text-align: left">ShippingOptions <code class="prettyprint">Id</code> from Step 4.2</td>
</tr>
</tbody></table>

<h2 id="optional-step-5-optional-order-properties">(Optional) Step 5 - Optional Order Properties</h2>

<p>Taxes are also processed at this stage. It is assumed that your POS will handle taxes on a per item or per order basis. </p>

<p>If your POS does not have a taxes option for dropship orders, and you wish to learn more about the iQmetrix Taxes API, contact <a href="mailto:apisupport@iqmetrix.com?subject=Taxes API Information">API Support</a>.</p>

<p>The JSON request would appear similar to the figure below.</p>

<p><strong>Figure 7:</strong> Displays the RQ Dropship checkout sale, where the employee can enter additional properties.</p>

<p><img class="popUpImage" src="http://developers.iqmetrix.com/images/dropship-pos-guide/dropship-sale.png" alt="checkout screen in POS" /></p>

<h2 id="step-6-process-the-order">Step 6 - Process the Order</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight plaintext"><code>POST https://orderdemo.iqmetrix.net/v1/Companies(14146)/Orders(fec93378-b4c2-400e-a480-364470920798)/Process
Authorization: Bearer (Access Token)
Accept: application/json
Content-Type: application/json
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nt">"OrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fec93378-b4c2-400e-a480-364470920798"</span><span class="w">
</span><span class="p">}</span><span class="w">   
</span></code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight plaintext"><code>HTTP 201 Content-Type: application/json
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fec93378-b4c2-400e-a480-364470920798"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XQ-Shelf Cart 431b4d57-97fd-41b8-868b-7ec099ce57cc"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"BillingAddressId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"779de874-3018-48f7-a41a-4ed9235a0708"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"BillingCustomerId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"88a5c0c0-af55-4d3b-8d75-c41a4e20bc49"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"CreatedDateUtc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-05-17T22:38:36.9"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"DiscountAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"DiscountCode"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"DiscountDescription"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"EmployeeId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"EntityId"</span><span class="p">:</span><span class="w"> </span><span class="mi">14192</span><span class="p">,</span><span class="w">
    </span><span class="nt">"OrderExpiryDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-05-18T10:38:36.9"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"OrderExpiryHours"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w">
    </span><span class="nt">"OrderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sales"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"OrderTypeId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"PrintableId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"null"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"ShippingAddressId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"779de874-3018-48f7-a41a-4ed9235a0708"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"ShippingCustomerId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"88a5c0c0-af55-4d3b-8d75-c41a4e20bc49"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"ShippingEntityId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Created"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"TenderId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>The final step is to take payment (tender) and process the order. </p>

<p>There are two options available when tracking the invoice number. The first option is to update the <code class="prettyprint">TenderId</code> field, as this field is reflected in the invoice. The second option is to map the <code class="prettyprint">OrderId</code> to an invoice number in your system. </p>

<p>You must also ensure that a Dropship SKU and Shipping SKU are defined in your POS. These SKUs are used to track Dropship orders, and should be defined as non-stocked SKUs. See the previous figure as an example of these SKUs.</p>

<h2 id="step-7-next-steps">Step 7 - Next Steps</h2>

<p>The iQmetrix Dropship program handles all actions post-invoice, such as updating the order status and sending an email to the customer with the order tracking details.</p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
          </div>
      </div>
    </div>
  </body>
</html>
