<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Authentication | iQmetrix Developer Portal</title>

    <link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css'/>

    <style>
      /*.highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #f8f8f2;
  background-color: #272822;
}
.highlight .err {
  color: #151515;
  background-color: #ac4142;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #505050;
}
.highlight .cp {
  color: #f4bf75;
}
.highlight .nt {
  color: #f4bf75;
}
.highlight .o, .highlight .ow {
  color: #d0d0d0;
}
.highlight .p, .highlight .pi {
  color: #d0d0d0;
}
.highlight .gi {
  color: #90a959;
}
.highlight .gd {
  color: #ac4142;
}
.highlight .gh {
  color: #6a9fb5;
  background-color: #151515;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #aa759f;
}
.highlight .kc {
  color: #d28445;
}
.highlight .kt {
  color: #d28445;
}
.highlight .kd {
  color: #d28445;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #90a959;
}
.highlight .sr {
  color: #75b5aa;
}
.highlight .si {
  color: #8f5536;
}
.highlight .se {
  color: #8f5536;
}
.highlight .nn {
  color: #f4bf75;
}
.highlight .nc {
  color: #f4bf75;
}
.highlight .no {
  color: #f4bf75;
}
.highlight .na {
  color: #6a9fb5;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #90a959;
}
.highlight .ss {
  color: #90a959;
}*/
    </style>
    <link href="../../stylesheets/three_column.css" rel="stylesheet" media="screen" />
    <link href="../../stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="../../javascripts/all.js"></script>
  </head>
  <body class="api api_authentication api_authentication_index" data-languages="[&quot;javascript&quot;,&quot;shell&quot;,&quot;csharp&quot;,&quot;java&quot;,&quot;ruby&quot;]">
    <div class="fixed-top">
      <a class="navbar-logo" href="/"><img src="../../images/splash/iqmetrix-logo-white.png" alt="Brand"/></a>
      <div class="navbar-right">
        <ul class="topnav" id="myTopnav">
          <li><a class="active" href="/">PRODUCTS</a></li>
          <li><a href="/api/changelog">API REFERENCE</a></li>
          <li><a href="/api/changelog">CORE CONCEPTS &amp; GUIDES</a></li>
          <li><a href="/api/changelog">PARTNERS</a></li>
          <li><a href="mailto:apisupport@iqmetrix.com?subject=Support">CONTACT</a></li>
          <li class="icon">
            <a href="javascript:void(0);" style="font-size:15px;" onclick="myFunction()">â˜°</a>
          </li>
        </ul>
      </div>
    </div>
    <div class="breadcrumb">
      <ol>
        <li><a href="/api/">API REFERENCE</a></li>
        <li>></li>
        <li><a href="">API DOCUMENTATION</a></li>
        <li>></li>
        <li class="active">CUSTOMER RELATIONSHIP MANAGEMENT (CRM)</li>
      </ol>
    </div>
    <div class="title">
      <h1>API Documentation</h1>
      <p>In depth reference documentation for iQmetrix API's.</p>
    </div>

    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="../../images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <!-- <img src="../../images/logo.png" alt="Logo" /> -->
        <div class="lang-selector">
              <a href="#" data-language-name="javascript">javascript</a>
              <a href="#" data-language-name="shell">cURL</a>
              <a href="#" data-language-name="csharp">c#</a>
              <a href="#" data-language-name="java">java</a>
              <a href="#" data-language-name="ruby">ruby</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="overview">Overview</h1>

<p>iQmetrix APIs are protected by <a href="/api/glossary/#oauth">OAuth2</a>.</p>

<p>In order to make authorized requests to iQmetrix APIs, your application must first obtain an <a href="/api/glossary/#access-token">Access Token</a>.</p>

<h3 id="postman">Postman</h3>

<p>iQmetrix uses <a href="http://www.getpostman.com">Postman</a> when <a href="/api/#testing-and-debugging">testing and debugging</a> our APIs.</p>

<p>For Chrome or Mac users, click the button below to import the collection directly into Postman.</p>

<div class="postman-run-button"
data-postman-action="collection/import"
data-postman-var-1="e9ae2435064b12fd1b1d"></div>

<script type="text/javascript">
  (function (p,o,s,t,m,a,n) {
    !p[s] && (p[s] = function () { (p[t] || (p[t] = [])).push(arguments); });
    !o.getElementById(s+t) && o.getElementsByTagName("head")[0].appendChild((
      (n = o.createElement("script")),
      (n.id = s+t), (n.async = 1), (n.src = m), n
    ));
  }(window, document, "_pm", "PostmanRunObject", "https://run.pstmn.io/button.js"));
</script>

<p>Alternatively, you can download the collection by clicking <a href="https://www.getpostman.com/collections/e9ae2435064b12fd1b1d">here</a>.</p>

<h1 id="endpoints">Endpoints</h1>

<ul>
<li>Sandbox: <a href="https://accountsdemo.iqmetrix.net/v1">https://accountsdemo.iqmetrix.net/v1</a></li>
<li>Production: <a href="https://accounts.iqmetrix.net/v1">https://accounts.iqmetrix.net/v1</a></li>
</ul>

<h1 id="resources">Resources</h1>

<h1 id="requests">Requests</h1>

<h2 id="obtaining-an-access-token">Obtaining an Access Token</h2>

<p>This request will allow you to use the access credentials you received in your onboarding package to get an Access Token.</p>

<h4 id="notes">Notes</h4>

<ul>
<li>Each time this request is made, a <strong>new</strong> access token is created and returned</li>
<li>As long as an access token is not expired, it can be used to authorize requests to <strong>ANY</strong> iQmetrix API</li>
<li>When obtaining or refreshing an access token, ensure the request parameters (e.g. grant_type) are set in the <strong>body</strong> of the request<br></li>
</ul>

<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight plaintext"><code>POST /oauth2/token
</code></pre>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST <span class="s2">"https://accountsdemo.iqmetrix.net/v1/oauth2/token"</span> -d <span class="nv">grant_type</span><span class="o">=</span>password&amp;username<span class="o">=</span>email@example.com&amp;password<span class="o">=</span>examplepassword&amp;client_id<span class="o">=</span>exampleclient&amp;client_secret<span class="o">=</span>examplesecret&amp;
</code></pre>

<h4 id="request-parameters">Request Parameters</h4>

<p><li><code>grant_type</code> (<strong>Required</strong>) - The value must be password</li>
<li><code>username</code> (<strong>Required</strong>) - The username provided to iQmetrix, usually an email address</li>
<li><code>password</code> (<strong>Required</strong>) - The password, provided when an account is created</li>
<li><code>client_id</code> (<strong>Required</strong>) - The client ID, provided by iQmetrix</li>
<li><code>client_secret</code> (<strong>Required</strong>) - The client secret</li></p>

<h3 id="response-parameters">Response Parameters</h3>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight plaintext"><code>HTTP 200 Content-Type: application/json
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3dae10c05e894011b5b3ae15972ffbf4"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"expires_in"</span><span class="p">:</span><span class="w"> </span><span class="mi">43199</span><span class="p">,</span><span class="w">
    </span><span class="nt">"refresh_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f8bk56n40f7gi34j49g7bh4n430gf874h"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><ul><li><code>access_token</code> (String) - The access token issued by the authorization server</li><li><code>expires_in</code> (Integer) - Seconds remaining until the access token expires, <strong>12 hours</strong> or less if revoked</li><li><code>refresh_token</code> (String) - The refresh token generated by the authorization server, expires after <strong>7 days</strong></li></ul></p>

<h2 id="refreshing-an-access-token">Refreshing an Access Token</h2>

<p>Instead of always using credentials, a client application may use the refresh token to obtain a new access token.</p>

<h4 id="notes">Notes</h4>

<ul>
<li>Once a refresh token has been exchanged, the access token it was provided with is revoked</li>
<li>The client credentials must be the same as those used in the request to acquire the provided refresh token</li>
<li>When obtaining or refreshing an access token, ensure the request parameters (e.g. grant_type) are set in the <strong>body</strong> of the request.</li>
</ul>

<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight plaintext"><code>POST /oauth2/Token
</code></pre>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST <span class="s2">"https://accountsdemo.iqmetrix.net/v1/oauth2/Token"</span> -d <span class="nv">grant_type</span><span class="o">=</span>refresh_token&amp;client_id<span class="o">=</span>exampleclient&amp;client_secret<span class="o">=</span>examplesecret&amp;refresh_token<span class="o">=</span>f8bk56n40f7gi34j49g7bh4n430gf874h&amp;
</code></pre>

<h4 id="request-parameters">Request Parameters</h4>

<p><li><code>grant_type</code> (<strong>Required</strong>) - The value must be refresh_token</li>
<li><code>client_id</code> (<strong>Required</strong>) - The client ID, provided by iQmetrix</li>
<li><code>client_secret</code> (<strong>Required</strong>) - The client secret</li>
<li><code>refresh_token</code> (<strong>Required</strong>) - The refresh token we are exchanging</li></p>

<h3 id="response-parameters">Response Parameters</h3>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight plaintext"><code>HTTP 200 Content-Type: application/json
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3dae10c05e894011b5b3ae15972ffbf4"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"expires_in"</span><span class="p">:</span><span class="w"> </span><span class="mi">43199</span><span class="p">,</span><span class="w">
    </span><span class="nt">"refresh_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f8bk56n40f7gi34j49g7bh4n430gf874h"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><ul><li><code>access_token</code> (String) - The access token issued by the authorization server</li><li><code>expires_in</code> (Integer) - Seconds remaining until the access token expires, <strong>12 hours</strong> or less if revoked</li><li><code>refresh_token</code> (String) - The refresh token generated by the authorization server, expires after <strong>7 days</strong></li></ul></p>

<h1 id="errors">Errors</h1>

<p>For troubleshooting, see <a href="/faq/auth-faq">Authentication FAQ</a>.</p>

<table><thead>
<tr>
<th style="text-align: left">HTTP Status Code</th>
<th style="text-align: left">Description</th>
<th style="text-align: left">How to Resolve</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">HTTP 400</code></td>
<td style="text-align: left"><code class="prettyprint">unsupported_grant_type</code></td>
<td style="text-align: left">Ensure grant_type is set appropriately</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">HTTP 400</code></td>
<td style="text-align: left"><code class="prettyprint">invalid_client</code></td>
<td style="text-align: left">Ensure client_id and client_secret are correct</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">HTTP 400</code></td>
<td style="text-align: left"><code class="prettyprint">invalid_grant</code></td>
<td style="text-align: left">Ensure client credentials are correct. For a refresh token, ensure credentials are the same as those used to acquire the original access token</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="javascript">javascript</a>
                <a href="#" data-language-name="shell">cURL</a>
                <a href="#" data-language-name="csharp">c#</a>
                <a href="#" data-language-name="java">java</a>
                <a href="#" data-language-name="ruby">ruby</a>
          </div>
      </div>
    </div>
  </body>
</html>