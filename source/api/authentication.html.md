---
title:  Authentication
permalink: /api/Authentication/

language_tabs:
  - javascript
  - shell: cURL
  - csharp: c#
  - java
  - ruby

search: true
---


# Overview

iQmetrix APIs are protected by [OAuth2](/api/glossary/#oauth).

In order to make authorized requests to iQmetrix APIs, your application must first obtain an [Access Token](/api/glossary/#access-token).

### Postman

iQmetrix uses <a href="http://www.getpostman.com">Postman</a> when <a href="/api/#testing-and-debugging">testing and debugging</a> our APIs.

For Chrome or Mac users, click the button below to import the collection directly into Postman.

<div class="postman-run-button"
data-postman-action="collection/import"
data-postman-var-1="e9ae2435064b12fd1b1d"></div>
<script type="text/javascript">
  (function (p,o,s,t,m,a,n) {
    !p[s] && (p[s] = function () { (p[t] || (p[t] = [])).push(arguments); });
    !o.getElementById(s+t) && o.getElementsByTagName("head")[0].appendChild((
      (n = o.createElement("script")),
      (n.id = s+t), (n.async = 1), (n.src = m), n
    ));
  }(window, document, "_pm", "PostmanRunObject", "https://run.pstmn.io/button.js"));
</script>

Alternatively, you can download the collection by clicking <a href="https://www.getpostman.com/collections/e9ae2435064b12fd1b1d">here</a>.



# Endpoints


* Sandbox: <a href="https://accountsdemo.iqmetrix.net/v1">https://accountsdemo.iqmetrix.net/v1</a>
* Production: <a href="https://accounts.iqmetrix.net/v1">https://accounts.iqmetrix.net/v1</a>



# Resources






# Requests



## Obtaining an Access Token

This request will allow you to use the access credentials you received in your onboarding package to get an Access Token.

#### Notes

* Each time this request is made, a **new** access token is created and returned
* As long as an access token is not expired, it can be used to authorize requests to **ANY** iQmetrix API
* When obtaining or refreshing an access token, ensure the request parameters (e.g. grant_type) are set in the **body** of the request        


> Definition

```
POST /oauth2/token
```



> Example Request

```shell
curl -X POST "https://accountsdemo.iqmetrix.net/v1/oauth2/token" -d grant_type=password&username=email@example.com&password=examplepassword&client_id=exampleclient&client_secret=examplesecret&
```





#### Request Parameters

<li><code>grant_type</code> (<strong>Required</strong>) - The value must be password</li>
<li><code>username</code> (<strong>Required</strong>) - The username provided to iQmetrix, usually an email address</li>
<li><code>password</code> (<strong>Required</strong>) - The password, provided when an account is created</li>
<li><code>client_id</code> (<strong>Required</strong>) - The client ID, provided by iQmetrix</li>
<li><code>client_secret</code> (<strong>Required</strong>) - The client secret</li>


### Response Parameters



> Example Response

```
HTTP 200 Content-Type: application/json
```

```json
{
    "access_token": "3dae10c05e894011b5b3ae15972ffbf4",
    "expires_in": 43199,
    "refresh_token": "f8bk56n40f7gi34j49g7bh4n430gf874h"
}
```



 <ul><li><code>access_token</code> (String) - The access token issued by the authorization server</li><li><code>expires_in</code> (Integer) - Seconds remaining until the access token expires, **12 hours** or less if revoked</li><li><code>refresh_token</code> (String) - The refresh token generated by the authorization server, expires after **7 days**</li></ul>



## Refreshing an Access Token

Instead of always using credentials, a client application may use the refresh token to obtain a new access token.

#### Notes

* Once a refresh token has been exchanged, the access token it was provided with is revoked
* The client credentials must be the same as those used in the request to acquire the provided refresh token
* When obtaining or refreshing an access token, ensure the request parameters (e.g. grant_type) are set in the **body** of the request.


> Definition

```
POST /oauth2/Token
```



> Example Request

```shell
curl -X POST "https://accountsdemo.iqmetrix.net/v1/oauth2/Token" -d grant_type=refresh_token&client_id=exampleclient&client_secret=examplesecret&refresh_token=f8bk56n40f7gi34j49g7bh4n430gf874h&
```





#### Request Parameters

<li><code>grant_type</code> (<strong>Required</strong>) - The value must be refresh_token</li>
<li><code>client_id</code> (<strong>Required</strong>) - The client ID, provided by iQmetrix</li>
<li><code>client_secret</code> (<strong>Required</strong>) - The client secret</li>
<li><code>refresh_token</code> (<strong>Required</strong>) - The refresh token we are exchanging</li>


### Response Parameters



> Example Response

```
HTTP 200 Content-Type: application/json
```

```json
{
    "access_token": "3dae10c05e894011b5b3ae15972ffbf4",
    "expires_in": 43199,
    "refresh_token": "f8bk56n40f7gi34j49g7bh4n430gf874h"
}
```



 <ul><li><code>access_token</code> (String) - The access token issued by the authorization server</li><li><code>expires_in</code> (Integer) - Seconds remaining until the access token expires, **12 hours** or less if revoked</li><li><code>refresh_token</code> (String) - The refresh token generated by the authorization server, expires after **7 days**</li></ul>



# Errors

For troubleshooting, see [Authentication FAQ](/faq/auth-faq).

| HTTP Status Code | Description | How to Resolve |
|:-----------------|:------------|:---------------|
| `HTTP 400` | `unsupported_grant_type` | Ensure grant_type is set appropriately |
| `HTTP 400` | `invalid_client` | Ensure client_id and client_secret are correct |
| `HTTP 400` | `invalid_grant` | Ensure client credentials are correct. For a refresh token, ensure credentials are the same as those used to acquire the original access token  |

