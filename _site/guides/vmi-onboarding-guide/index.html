<!DOCTYPE html>
<html>
  <head>

 <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="keywords" content=",  ">
<title>VMI Onboarding Guide  | iQmetrix Developer Portal</title>
<link rel="stylesheet" type="text/css" href="../../css/font-awesome.min.css">
<link rel="stylesheet" type="text/css" href="../../css/bootstrap.min.css">
<link rel="stylesheet" type="text/css" href="../../css/modern-business.css">
<link rel="stylesheet" type="text/css" href="../../css/customstyles.css">
<!-- <link rel="stylesheet" type="text/css" href="" | prepend:site.pagefileurl }}"> -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="../../js/jquery.navgoco.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.5.5/clipboard.min.js"></script>
<script src="../../js/toc.js"></script>
<script src="../../js/customscripts.js"></script>
<link rel="shortcut icon" href="../../images/favicon.ico" type="image/x-icon">


<!-- Image popup source files -->
<!-- http://dimsemenov.com/plugins/magnific-popup/ -->
<link rel="stylesheet" type="text/css" href="../../css/magnific-popup.css">
<script src="../../js/jquery.magnific-popup.js"></script>


<script>
    $(document).ready(function() {

        // surround each image with an anchor class  for image popup
        $('img').each( function() {
            var $img = $(this),
            href = $img.attr('src');
            $img.wrap('<a class="image-link" href=' + href + '></a>');
             
        });

        // make each image with image-link class popup "on click"
        // !! Drawback -- all images could popup :(
        $('.image-link').magnificPopup({
            type:'image',
            closeOnContentClick: true
        });
                
    });    
</script>


<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<script type="text/javascript">
    //Hacky code to make sure they don't go to a bad page
    $( window ).load(function() {

        if (document.baseURI.indexOf("api/generalledger.html") > 0) {
            window.location.href = 'http://developers.iqmetrix.com/api/general-ledger/';
        }
        else if (document.baseURI.indexOf("api/productlibrary.html") > 0) {
          window.location.href = 'http://developers.iqmetrix.com/api/product-library/';
        }
        else if (document.baseURI.indexOf("api/entitystore.html") > 0) {
          window.location.href = 'http://developers.iqmetrix.com/api/entity-store/';
        }
        else if(document.baseURI.indexOf(".html") > 0) {
           window.location.href = document.baseURI.substring(0, document.baseURI.indexOf(".html"));
        }
    });
</script>





 

<script>
  $(function () {
      $('[data-toggle="tooltip"]').tooltip()
  })
</script>






  </head>

<body>

   <!-- Send feedback function -->
<script>
    function SendLinkByMail(href) {
        var subject= " all documentation feedback";
        var body = "I have some feedback about the VMI Onboarding Guide page: ";
        body += window.location.href;
        body += "";
        var uri = "mailto:apidesign@iqmetrix.com?subject=";
        uri += encodeURIComponent(subject);
        uri += "&body=";
        uri += encodeURIComponent(body);
        window.location.href = uri;
    }
</script>

<!-- Navigation -->
<nav id="navbar-custom" class="navbar navbar-inverse navbar-fixed-top" role="navigation">
   <div class="container topnavlinks">
   <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      </button>
      <a href="http://localhost:4006/">
        <span id="top-iq-logo"><img src="http://melissakendall.github.io/documentation-testing/images/iq-logo-white.png"></span>
        <span id="projectTitle">iQmetrix Developer Portal</span>
      </a>
   </div>
   <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul id="top-bar-categories" class="nav navbar-nav navbar-right">
      
      <!-- entries without drop-downs appear here -->
      <!-- conditional logic to control which topnav appears for the audience defined in the configuration file.-->
      <!-- 

Hard coding for now, so no longer uses topnav config









  
      
      
          <li><a href="/api/changelog/">CHANGELOG</a></li>
      
    
  
      
      
          <li class="active"><a href="//">API REFERENCE</a></li>
       
    
  
      
      
          <li><a href="http://iqmetrix.com" target="_blank">BACK TO iQMETRIX.COM Â»</a></li>
      
    
  


-->

<li><a href="/api/">DOCUMENTATION</a></li>
<li><a href="/api/changelog">CHANGELOG</a></li>
<li><a href="mailto:?subject=Support">SUPPORT</a></li>


         <!--
      <li>
         <div id="search-demo-container">
            <input type="text" id="search-input" placeholder="">
            <ul id="results-container"></ul>
         </div>
         <script src="../..//js/jekyll-search.js" type="text/javascript"></script>
         <script type="text/javascript">
            SimpleJekyllSearch({
              searchInput: document.getElementById('search-input'),
              resultsContainer: document.getElementById('results-container'),
              json: '../../search.json',
              searchResultTemplate: '<li><a href="{url}" title="VMI Onboarding Guide">{title}</a></li>',
              noResultsText: '',
              exclude: '404'
            })
         </script>
      </li>
         -->
    

   </div>
   <!-- /.container -->
</nav>

    <!-- Page Content -->
    <div class="container">
        <div class="col-lg-12">&nbsp;</div>

            <!-- Col-md-3 -->
            <!-- Content Row -->
<div class="row">
    <!-- Sidebar Column -->
    <div class="col-md-3">

        <script>
            $(document).ready(function() {

                // Initialize navgoco with default options
                $("#mysidebar").navgoco({
                    caretHtml: '',
                    accordion: true,
                    openClass: 'active', // open
                    save: false, // leave false or nav higlighting doesn't work right
                    cookie: {
                        name: 'navgoco',
                        expires: false,
                        path: '/'
                    },
                    slide: {
                        duration: 400,
                        easing: 'swing'
                    }
                });

                $("#collapseAll").click(function(e) {
                    e.preventDefault();
                    $("#mysidebar").navgoco('toggle', false);
                });

                $("#expandAll").click(function(e) {
                    e.preventDefault();
                    $("#mysidebar").navgoco('toggle', true);
                });

                if(window.location.hostname == "apidocumentation-dev-westus.azurewebsites.net")
                {
                    $("a").each(function(e) {
                        var url = $(this).attr("href");
                        
                        if(url.indexOf("developers.iqmetrix.com") > -1) {
                            url = url.replace("developers.iqmetrix.com", "apidocumentation-dev-westus.azurewebsites.net");
                        }

                        $(this).attr("href", url);
                    });

                    $("img").each(function(e) {
                        var url = $(this).attr("src");
                        
                        if(url.indexOf("developers.iqmetrix.com") > -1) {
                            url = url.replace("developers.iqmetrix.com", "apidocumentation-dev-westus.azurewebsites.net");
                        }

                        $(this).attr("src", url);
                    });                    
                }

                if(window.location.search != "" && window.location.search != null && window.location.search.indexOf("=") > -1) {

                    var entityValue = window.location.search.split("=")[1];

                    $("."+entityValue).hide();
                }
            });

        </script>

        <ul id="mysidebar" class="nav affix">
            
                
                    
                        <li class=""><a href="#">API Reference</a>
                            <ul style="display: none;">
                                
                                    
                                        
                                            <li class=""><a href="/api/authentication/">Authentication</a></li>
                                        
                                    
                                
                                    
                                        
                                            <li class=""><a href="/api/assets/">Assets</a></li>
                                        
                                    
                                
                                    
                                        
                                            <li class=""><a href="/api/catalog/">Catalog</a></li>
                                        
                                    
                                
                                    
                                        
                                            <li class=""><a href="/api/company-tree/">Company Tree</a></li>
                                        
                                    
                                
                                    
                                        
                                            <li class=""><a href="/api/crm/">Customers</a></li>
                                        
                                    
                                
                                    
                                        <li class="thirdlevel "><a href="#">Dropship</a>
                                            <ul>
                                                
                                                    
                                                        <li class=""><a href="/api/cost-feed/">Cost Feed</a></li>
                                                    
                                                
                                                    
                                                        <li class=""><a href="/api/product-feed/">Product Feed</a></li>
                                                    
                                                
                                                    
                                                        <li class=""><a href="/api/product-subscription/">Product Subscription</a></li>
                                                    
                                                
                                                    
                                                        <li class=""><a href="/api/saccs/">Shipping Aggregator</a></li>
                                                    
                                                
                                                    
                                                        <li class=""><a href="/api/shipping-options/">Shipping Options</a></li>
                                                    
                                                
                                                    
                                                        <li class=""><a href="/api/supplier-availability/">Supplier Availability</a></li>
                                                    
                                                
                                                    
                                                        <li class=""><a href="/api/supplier-orders/">Supplier Orders</a></li>
                                                    
                                                
                                            </ul>
                                        </li>
                                    
                                
                                    
                                        
                                            <li class=""><a href="/api/entity-store/">Entities</a></li>
                                        
                                    
                                
                                    
                                        
                                            <li class=""><a href="/api/general-ledger/">General Ledger</a></li>
                                        
                                    
                                
                                    
                                        
                                            <li class=""><a href="/api/availability/">Inventory Availability</a></li>
                                        
                                    
                                
                                    
                                        
                                            <li class=""><a href="/api/orders/">Orders</a></li>
                                        
                                    
                                
                                    
                                        <li class="thirdlevel "><a href="#">Partners</a>
                                            <ul>
                                                
                                                    
                                                        <li class=""><a href="/api/partner-reporting/">Partner Reporting</a></li>
                                                    
                                                
                                                    
                                                        <li class=""><a href="/api/partner-relationships/">Relationships</a></li>
                                                    
                                                
                                            </ul>
                                        </li>
                                    
                                
                                    
                                        
                                            <li class=""><a href="/api/pricing">Pricing</a></li>
                                        
                                    
                                
                                    
                                        <li class="thirdlevel "><a href="#">Product Library</a>
                                            <ul>
                                                
                                                    
                                                        <li class=""><a href="/api/classification-tree/">Classification Tree</a></li>
                                                    
                                                
                                                    
                                                        <li class=""><a href="/api/field-definitions/">Field Definitions</a></li>
                                                    
                                                
                                                    
                                                        <li class=""><a href="/api/product-library/">Products</a></li>
                                                    
                                                
                                                    
                                                        <li class=""><a href="/api/product-structure/">Product Structure</a></li>
                                                    
                                                
                                            </ul>
                                        </li>
                                    
                                
                                    
                                        
                                            <li class=""><a href="/api/reference/">Reference</a></li>
                                        
                                    
                                
                                    
                                        <li class="thirdlevel "><a href="#">RQ</a>
                                            <ul>
                                                
                                                    
                                                        <li class=""><a href="/api/carrier-integration/">Carrier Integration</a></li>
                                                    
                                                
                                                    
                                                        <li class=""><a href="/api/cmi/">Customer Managed Inventory (CMI)</a></li>
                                                    
                                                
                                                    
                                                        <li class=""><a href="/api/commissions/">Commissions</a></li>
                                                    
                                                
                                                    
                                                        <li class=""><a href="/api/epc/">Electronic Product Catalog (EPC)</a></li>
                                                    
                                                
                                                    
                                                        <li class=""><a href="/api/punch-clock/">Punch Clock</a></li>
                                                    
                                                
                                                    
                                                        <li class=""><a href="/api/vmi/">Vendor Managed Inventory (VMI)</a></li>
                                                    
                                                
                                            </ul>
                                        </li>
                                    
                                
                                    
                                        
                                            <li class=""><a href="/api/security-roles/">Security Roles</a></li>
                                        
                                    
                                
                                    
                                        
                                            <li class=""><a href="/api/user-manager/">User Manager</a></li>
                                        
                                    
                                
                            </ul>
                        </li>
                    
                
                    
                        <li class=""><a href="#">Guides</a>
                            <ul style="display: none;">
                                
                                    
                                        
                                            <li class=""><a href="/guides/creating-an-in-store-order/">Creating an In Store Order</a></li>
                                        
                                    
                                
                                    
                                        
                                            <li class=""><a href="/guides/creating-a-user-for-rq/">Creating a User for RQ</a></li>
                                        
                                    
                                
                                    
                                        <li class="thirdlevel "><a href="#">Dropship Client Integration Guides</a>
                                            <ul>
                                                
                                                    
                                                        <li class=""><a href="/guides/dropship-pos-guide/">Dropship Point of Sale Guide</a></li>
                                                    
                                                
                                            </ul>
                                        </li>
                                    
                                
                                    
                                        <li class="thirdlevel "><a href="#">Dropship Partner Integration Guides</a>
                                            <ul>
                                                
                                                    
                                                        <li class=""><a href="/guides/dropship-onboarding-guide/">Dropship Onboarding Guide</a></li>
                                                    
                                                
                                                    
                                                        <li class=""><a href="/guides/dropship-order-guide/">Dropship Order Management Guide</a></li>
                                                    
                                                
                                                    
                                                        <li class=""><a href="/guides/dropship-test-order-guide/">Dropship Test Order Guide</a></li>
                                                    
                                                
                                            </ul>
                                        </li>
                                    
                                
                                    
                                        
                                            <li class=""><a href="/guides/commerce-guide/">eCommerce Integration Guide</a></li>
                                        
                                    
                                
                                    
                                        <li class="thirdlevel "><a href="#">Endless Aisle Integration Guide</a>
                                            <ul>
                                                
                                                    
                                                        <li class=""><a href="/guides/ea-guide/overview">Overview</a></li>
                                                    
                                                
                                                    
                                                        <li class=""><a href="/guides/ea-guide/corporate-hierarchy">Corporate Hierarchy</a></li>
                                                    
                                                
                                                    
                                                        <li class=""><a href="/guides/ea-guide/content">Content</a></li>
                                                    
                                                
                                                    
                                                        <li class=""><a href="/guides/ea-guide/inventory">Inventory</a></li>
                                                    
                                                
                                                    
                                                        <li class=""><a href="/guides/ea-guide/orders">Orders</a></li>
                                                    
                                                
                                            </ul>
                                        </li>
                                    
                                
                                    
                                        
                                            <li class=""><a href="/guides/3pa/">Third Party Authentication</a></li>
                                        
                                    
                                
                                    
                                        
                                            <li class="active "><a href="/guides/vmi-onboarding-guide/">VMI Onboarding Guide</a></li>
                                        
                                    
                                
                            </ul>
                        </li>
                    
                
                    
                        <li class=""><a href="#">Core Concepts</a>
                            <ul style="display: none;">
                                
                                    
                                        
                                            <li class=""><a href="/concepts/classification-tree/">Classification Tree</a></li>
                                        
                                    
                                
                                    
                                        
                                            <li class=""><a href="/concepts/company-tree/">Company Tree</a></li>
                                        
                                    
                                
                                    
                                        
                                            <li class=""><a href="/concepts/product-library/">Product Library</a></li>
                                        
                                    
                                
                                    
                                        
                                            <li class=""><a href="/concepts/product-structure/">Product Structure</a></li>
                                        
                                    
                                
                                    
                                        
                                            <li class=""><a href="/concepts/user-manager/">User Manager</a></li>
                                        
                                    
                                
                            </ul>
                        </li>
                    
                
                    
                        <li class=""><a href="#">FAQ</a>
                            <ul style="display: none;">
                                
                                    
                                        
                                            <li class=""><a href="/faq/auth-faq/">Authentication FAQ</a></li>
                                        
                                    
                                
                                    
                                        
                                            <li class=""><a href="/faq/dropship-faq/">Dropship FAQ</a></li>
                                        
                                    
                                
                            </ul>
                        </li>
                    
                
                    
                        <li class=""><a href="/reference-applications/">Reference Applications</a>
                    
                
            
        </ul>

        
    </div>
<!-- div missing here is intentional -->

<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above.-->
<script>$("li.active").parents('li').toggleClass("active");</script>



            
              <div class="col-md-7">
<h2 id="overview">Overview</h2>

<p>The following document outlines the APIs and calls required for a VMI integration with iQmetrix. The steps outlined in this guide are focused on onboarding and are meant to be performed sequentially.</p>

<p>Each segment in this guide will provide high-level concepts before describing examples of the API call required.</p>

<p><br />
<strong>Figure 1:</strong> Illustrates the suggested flow for processing a VMI order.
<img title="dropship pos flow diagram" src="http://localhost:4006//images/vmi-flow.png" /></p>

<h4 id="who-is-this-guide-for">Who Is This Guide For?</h4>

<p>The intended audience for this guide are developers who are integrating a supplier into the iQmetrix VMI program.</p>

<h4 id="vmi-introduction">VMI Introduction</h4>

<p>The Vendor Managed Inventory (VMI) API allows vendors to communicate with customers running RQ in order to report on product inventory and to create purchase orders to replenish products. RQ users will be able to see the purchase orders created using VMI API and receive it when it arrives at the store. This document explains how to use the VMI API.</p>

<div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> <b>Note: </b>RetailiQ is the legacy retail management system produced by iQmetrix. It has been replaced by RQ. In this document, RetailiQ and RQ can be used synonymously.</div>

<h4 id="onboarding-package">Onboarding Package</h4>

<p>As part of the onboarding process, you will have received an onboarding package from the iQmetrix API team. This package provides you credentials and access details in order to perform the topics covered in this guide.</p>

<p>Should you require information beyond the scope of this guide, or did not receive the onboarding package, contact <a href="mailto:?subject=Support">API Support</a>.</p>

<h4 id="architecture">Architecture</h4>

<p>The VMI API is implemented as a web service using standard Simple Object Access Protocol (SOAP) to send XML messages between vendor and iQmetrix. This allows the API to be platform and programming language independent. Communication is done using SSL on the standard port 443 in order to secure data transfers.</p>

<h4 id="enable-vmi-for-an-rq-company">Enable VMI for an RQ Company</h4>

<p>Each company for which Vendor Replenishment is being implemented needs to setup Vendor Replenishment for the particular vendor to grant the vendor access to company data. Refer to Vendor Replenishment Setup Guide for instructions how to do this.</p>

<h4 id="environment">Environment</h4>

<p>iQmetrix provides you with two environments: Sandbox and Production. 
Use the Sandbox environment to test your API and to perform end-to-end testing. After completing this stage proceed to the Production environment.</p>

<p>For more information on environments, see <a href="/api/#environments">Environment</a>.</p>

<p>The WSDL for the sandbox web service is located at <a href="https://vmi7.iqmetrix.net/VMIService.asmx">https://vmi7.iqmetrix.net/VMIService.asmx</a>.</p>

<p>The WSDL for the production web service is located at <a href="https://vmi1.iqmetrix.net/VMIService.asmx">https://vmi1.iqmetrix.net/VMIService.asmx</a>.</p>

<h2 id="step-1---authentication">Step 1 - Authentication</h2>

<p>In order to make authorized requests to iQmetrix SOAP APIs, you need a username and password.</p>

<p>Please contact <a href="mailto:?subject=VMI Credentials">API Support</a> for a username and password.</p>

<h2 id="step-2---get-pending-companies">Step 2 - Get Pending Companies</h2>

<p>Retrieves a list of all companies that are in a Pending state for the Vendor.  This means that the company has completed setup within RQ, chosen the vendor, added stores to the relationship, and configured product for replenishment.  Vendors can only create POs for âEnabledâ companies.  A company can be enabled or disabled through this interface by calling EnableCompany().</p>

<h5 id="example-request">Example Request</h5>

<p><code>
POST https://vmidemo.iqmetrix.net/VMIClientService.asmx 
Content-Type: text/xml
</code>
```xml
<?xml version="1.0" encoding="utf-8"?></p>
<soap:envelope xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
  <soap:body>
    <getpendingcompanies xmlns="http://www.iqmetrix.com">
      <vendor>
        <vendorid>guid</vendorid>
        <username>string</username>
        <password>string</password>
        <client>
          <clientid>guid</clientid>
          <name>string</name>
          <storeid>int</storeid>
          <vendoraccountnumber>string</vendoraccountnumber>
        </client>
      </vendor>
    </getpendingcompanies>
  </soap:body>
</soap:envelope>

<p>```</p>

<h5 id="code-example">Code Example</h5>

<p>```java 
VendorIdentity vendor = new VendorIdentity();
vendor.VendorID = new Guid(VMI_VENDORID);
vendor.Username = VMI_USER;
vendor.Password = VMI_PASSWORD;
VMIServiceSoapClient vmiService = new VMIServiceSoapClient();
CompanyInformation[] companies = vmiService.GetPendingCompanies(vendor);</p>

<p>```</p>

<h5 id="example-response">Example Response</h5>

<pre><code>ABC123
</code></pre>

<h2 id="step-3---enable-company">Step 3 - Enable Company</h2>

<p>Change the interaction status of a company.  By enabling a company, it will be visible when GetCompanyList() is called.  Disabling a company will remove it from that list and will only be accessible through a call to GetDisabledCompanies().  Only enabled companies may receive purchase orders through the VMI services.</p>

<h5 id="example-request-1">Example Request</h5>

<p><code>
POST https://vmidemo.iqmetrix.net/VMIService.asmx
Content-Type: text/xml; charset=utf-8
Content-Length: length
SOAPAction: "http://www.iqmetrix.com/EnableCompany"
</code>
```xml
<?xml version="1.0" encoding="utf-8"?></p>
<soap:envelope xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
  <soap:body>
    <enablecompany xmlns="http://www.iqmetrix.com">
      <vendor>
        <vendorid>guid</vendorid>
        <username>string</username>
        <password>string</password>
        <client>
          <clientid>guid</clientid>
          <name>string</name>
          <storeid>int</storeid>
          <vendoraccountnumber>string</vendoraccountnumber>
        </client>
      </vendor>
      <isenabled>boolean</isenabled>
    </enablecompany>
  </soap:body>
</soap:envelope>

<p>```</p>

<h5 id="code-example-1">Code Example</h5>

<p>```java 
VendorIdentity vendor = new VendorIdentity();
vendor.VendorID = new Guid(VMI_VENDORID);
vendor.Username = VMI_USER;
vendor.Password = VMI_PASSWORD;
vendor.Client = new ClientAgent();
vendor.Client.ClientID = companyID;
vmiService.EnableCompany(vendor, true); // false to disable a company</p>

<p>```</p>

<h5 id="example-response-1">Example Response</h5>

<pre><code>Data
</code></pre>

<h2 id="step-4---get-company-list">Step 4 - Get Company List</h2>

<p>Retrieves a list of all companies that has VMI enabled for Xentris</p>

<p>Get a list of VMI enabled companies. This list contains a unique identifier for each company which is used in subsequent web method calls.</p>

<h5 id="example-request-2">Example Request</h5>

<p><code>
POST https://vmidemo.iqmetrix.net/VMIService.asmx
Content-Type: text/xml; charset=utf-8
Content-Length: length
SOAPAction: "http://www.iqmetrix.com/GetCompanyList"
</code>
```xml
<?xml version="1.0" encoding="utf-8"?></p>
<soap:envelope xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
  <soap:body>
    <getcompanylist xmlns="http://www.iqmetrix.com">
      <vendor>
        <vendorid>guid</vendorid>
        <username>string</username>
        <password>string</password>
        <client>
          <clientid>guid</clientid>
          <name>string</name>
          <storeid>int</storeid>
          <vendoraccountnumber>string</vendoraccountnumber>
        </client>
      </vendor>
    </getcompanylist>
  </soap:body>
</soap:envelope>

<p>```</p>

<h5 id="code-example-2">Code Example</h5>

<p>```java 
VendorIdentity vendor = new VendorIdentity();
vendor.VendorID = new Guid(VMI_VENDORID);
vendor.Username = VMI_USER;
vendor.Password = VMI_PASSWORD;
VMIServiceSoapClient vmiService = new VMIServiceSoapClient();
CompanyInformation[] companies = vmiService.GetCompanyList(vendor);</p>

<p>```</p>

<h5 id="example-response-2">Example Response</h5>

<pre><code>Data
</code></pre>

<h2 id="step-5---get-store-list">Step 5 - Get Store List</h2>

<p>Retrieves a list of VMI enabled stores</p>

<p>GetHierarchyInfo()
Get the company location structure, complete with store counts</p>

<h5 id="example-request-3">Example Request</h5>

<p><code>
POST https://vmidemo.iqmetrix.net/VMIService.asmx
Content-Type: text/xml; charset=utf-8
Content-Length: length
SOAPAction: "http://www.iqmetrix.com/GetStoreList"
</code>
```xml
<?xml version="1.0" encoding="utf-8"?></p>
<soap:envelope xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
  <soap:body>
    <getstorelist xmlns="http://www.iqmetrix.com">
      <vendor>
        <vendorid>guid</vendorid>
        <username>string</username>
        <password>string</password>
        <client>
          <clientid>guid</clientid>
          <name>string</name>
          <storeid>int</storeid>
          <vendoraccountnumber>string</vendoraccountnumber>
        </client>
      </vendor>
    </getstorelist>
  </soap:body>
</soap:envelope>

<p>```</p>

<h5 id="example-response-3">Example Response</h5>

<pre><code>data
</code></pre>

<h5 id="code-example-3">Code Example</h5>

<p>```java 
VendorIdentity vendor = new VendorIdentity();
vendor.VendorID = new Guid(VMI_VENDORID);
vendor.Username = VMI_USER;
vendor.Password = VMI_PASSWORD;
vendor.Client = new ClientAgent();
vendor.Client.ClientID = companyID;
StoreInformation[] stores = vmiService.GetStoreList(vendor);</p>

<p>```</p>

<h2 id="step-6---get-inventory-report">Step 6 - Get Inventory Report</h2>

<p>This method allows you to get an inventory report for a particular store. This includes data like minimum and maximum inventory, quantity on hand, quantity sold within a particular date range, product SKU etc</p>

<p>Used in conjunction with the GetHierarchyInfo call, this method will gather the same information as the GetInventoryReportByVendorSKU() call, but will gather data based on a Channel, or a Region, or a District, or a Store. This allows consumers to get inventory data for a large number of stores at one time. Use throttling logic based on data from GetHierarchyInfo to determine which level of the hierarchy to gather data for. See Note below.</p>

<p>GetGeographicInventoryReport()
Apply logic to each level in the hierarchy to gather data for multiple stores. Example provided in the details for GetGeographicInventoryReport below.</p>

<p>The payload and/or processing time for this call can be huge. Consider the number of locations multiplied by the number of products you supply for that store. The Hierarchy info has a store count for each level of the hierarchy. Use this value to allow your software to intelligently choose the appropriate level to request. The example below shows how this may be implemented. Consider using a configuration value instead of hard-coding the throttle value.
Also note that if the HierarchyInfo contains a default Channel of Guid.Empty (00000000-0000-0000-0000-000000000000), you must get data at the Region level.</p>

<h5 id="example-request-4">Example Request</h5>

<p><code>
POST https://vmidemo.iqmetrix.net/VMIService.asmx
Content-Type: text/xml; charset=utf-8
Content-Length: length
SOAPAction: "http://www.iqmetrix.com/GetGeographicInventoryReport"
</code>
```xml
<?xml version="1.0" encoding="utf-8"?></p>
<soap:envelope xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
  <soap:body>
    <getgeographicinventoryreport xmlns="http://www.iqmetrix.com">
      <vendor>
        <vendorid>guid</vendorid>
        <username>string</username>
        <password>string</password>
        <client>
          <clientid>guid</clientid>
          <name>string</name>
          <storeid>int</storeid>
          <vendoraccountnumber>string</vendoraccountnumber>
        </client>
      </vendor>
      <channelid>guid</channelid>
      <regionid>int</regionid>
      <districtid>int</districtid>
      <storeid>int</storeid>
      <startdate>string</startdate>
      <enddate>string</enddate>
    </getgeographicinventoryreport>
  </soap:body>
</soap:envelope>

<p>```</p>

<h5 id="example-response-4">Example Response</h5>

<pre><code>data
</code></pre>

<h5 id="code-example-4">Code Example</h5>

<p>```java 
VendorIdentity vendor = new VendorIdentity();
vendor.VendorID = new Guid(VMI_VENDORID);
vendor.Username = VMI_USER;
vendor.Password = VMI_PASSWORD;
vendor.Client = new ClientAgent();
vendor.Client.ClientID = companyID;
VMIServiceSoapClient vmiService = new VMIServiceSoapClient(); 
HierarchyInfo hierarcy = vmiService.GetHierarchyInfo(vendor);</p>

<p>int lotsOfStores = 30; //throttle value 
var result = new List<productandstoreinformation>(); 
var startDate = "07/01/2012"; 
var endDate = "07/02/2012";</productandstoreinformation></p>

<p>foreach (var channel in hierarchy.Channels) 
{ 
    //default channel, or channel has lots of stores and has regions 
    if (channel.ChannelID == Guid.Empty || 
        channel.StoreCount &gt; lotsOfStores &amp;&amp; channel.Regions.Any()) 
    { 
        foreach (var region in channel.Regions) 
        { 
            //region has lots of stores and districts exist 
            if (region.StoreCount &gt; lotsOfStores &amp;&amp; region.Districts.Any()) 
            { 
                foreach (var district in region.Districts) 
                { 
                    if (district.StoreCount &gt; lotsOfStores) 
                    { 
                        //loop here for each store 
                    } 
                    else 
                        {
                        result.AddRange(vmiService.GetGeographicInventoryReport 
                        (_vendor, Guid.Empty, -1, district.DistrictID,
                        -1, startDate, endDate)); 
                        } 
                } 
            } 
            else //region has few stores or no districts exist 
            { 
                result.AddRange(vmiService.GetGeographicInventoryReport 
                (_vendor, Guid.Empty, region.RegionID, 
                -1, -1, startDate, endDate)); 
            } 
        } 
    } 
    else //channel has few stores or no regions exist 
    { 
        result.AddRange(vmiService.GetGeographicInventoryReport 
            (_vendor, channel.ChannelID, -1, -1, -1, startDate, endDate)); 
    } 
}</p>

<p>```</p>

<h2 id="step-7---create-purchase-order">Step 7 - Create Purchase Order</h2>

<p>This method allows the vendor to create a purchase order for a particular store and a set of products. This allows RQ to properly account for products arriving at a store so that stock levels are updated correctly.  You must be marked as the Primary Vendor in RQ to add a product to a Purchase Order.</p>

<p>CreatePurchaseOrder() If it is determined in step 3 that inventory of a particular set of products need to be replenished, call this web method to create a purchase order in RQ.</p>

<h5 id="example-request-5">Example Request</h5>

<p><code>
POST https://vmidemo.iqmetrix.net/VMIService.asmx
Content-Type: text/xml; charset=utf-8
Content-Length: length
SOAPAction: "http://www.iqmetrix.com/CreatePurchaseOrder"
</code>
```xml
<?xml version="1.0" encoding="utf-8"?></p>
<soap:envelope xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
  <soap:body>
    <createpurchaseorder xmlns="http://www.iqmetrix.com">
      <vendor>
        <vendorid>guid</vendorid>
        <username>string</username>
        <password>string</password>
        <client>
          <clientid>guid</clientid>
          <name>string</name>
          <storeid>int</storeid>
          <vendoraccountnumber>string</vendoraccountnumber>
        </client>
      </vendor>
      <purchaseorder>
        <purchaseorderid>guid</purchaseorderid>
        <purchaseorderdata>
          <purchaseorderid>guid</purchaseorderid>
          <retailiqpurchaseorderid>int</retailiqpurchaseorderid>
          <retailiqpurchaseordernumber>string</retailiqpurchaseordernumber>
          <shiptostoreid>int</shiptostoreid>
          <shiptovendoraccountnumber>string</shiptovendoraccountnumber>
          <billtostoreid>int</billtostoreid>
          <billtovendoraccountnumber>string</billtovendoraccountnumber>
          <ordertotal>decimal</ordertotal>
          <shippingtotal>decimal</shippingtotal>
          <vendorinvoicenumber>string</vendorinvoicenumber>
          <estimatedarrivaldate>string</estimatedarrivaldate>
          <comments>string</comments>
          <shiptostorename>string</shiptostorename>
          <billtostorename>string</billtostorename>
          <vendorname>string</vendorname>
          <createdbyvmi>boolean</createdbyvmi>
          <createddate>string</createddate>
          <isdeleted>boolean</isdeleted>
        </purchaseorderdata>
        <productsordered>
          <productinformation>
            <productid>guid</productid>
            <productsku>string</productsku>
            <vendorsku>string</vendorsku>
            <productitemid>int</productitemid>
            <categorypath>string</categorypath>
            <productname>string</productname>
            <maximumlevel>int</maximumlevel>
            <minimumlevel>int</minimumlevel>
            <productcost>decimal</productcost>
            <quantityinstock>int</quantityinstock>
            <quantityonorder>int</quantityonorder>
            <quantityonuncommittedorder>int</quantityonuncommittedorder>
            <quantityonbackorder>int</quantityonbackorder>
            <quantityintransfer>int</quantityintransfer>
            <quantityonrma>int</quantityonrma>
            <quantityonloan>int</quantityonloan>
            <quantitycommittedonorderentry>int</quantitycommittedonorderentry>
            <quantitysuggestedbyvendor>int</quantitysuggestedbyvendor>
            <quantitysold>int</quantitysold>
            <grossquantitysold>int</grossquantitysold>
            <grossquantityreturned>int</grossquantityreturned>
            <quantityordered>int</quantityordered>
            <quantityreceived>int</quantityreceived>
            <datereceived>string</datereceived>
            <productreceived>boolean</productreceived>
            <enabled>boolean</enabled>
            <minmaxlocked>boolean</minmaxlocked>
            <donotorder>boolean</donotorder>
            <dateeol>dateTime</dateeol>
            <retailprice>decimal</retailprice>
            <saleprice>decimal</saleprice>
            <salebegin>dateTime</salebegin>
            <saleend>dateTime</saleend>
          </productinformation>
          <productinformation>
            <productid>guid</productid>
            <productsku>string</productsku>
            <vendorsku>string</vendorsku>
            <productitemid>int</productitemid>
            <categorypath>string</categorypath>
            <productname>string</productname>
            <maximumlevel>int</maximumlevel>
            <minimumlevel>int</minimumlevel>
            <productcost>decimal</productcost>
            <quantityinstock>int</quantityinstock>
            <quantityonorder>int</quantityonorder>
            <quantityonuncommittedorder>int</quantityonuncommittedorder>
            <quantityonbackorder>int</quantityonbackorder>
            <quantityintransfer>int</quantityintransfer>
            <quantityonrma>int</quantityonrma>
            <quantityonloan>int</quantityonloan>
            <quantitycommittedonorderentry>int</quantitycommittedonorderentry>
            <quantitysuggestedbyvendor>int</quantitysuggestedbyvendor>
            <quantitysold>int</quantitysold>
            <grossquantitysold>int</grossquantitysold>
            <grossquantityreturned>int</grossquantityreturned>
            <quantityordered>int</quantityordered>
            <quantityreceived>int</quantityreceived>
            <datereceived>string</datereceived>
            <productreceived>boolean</productreceived>
            <enabled>boolean</enabled>
            <minmaxlocked>boolean</minmaxlocked>
            <donotorder>boolean</donotorder>
            <dateeol>dateTime</dateeol>
            <retailprice>decimal</retailprice>
            <saleprice>decimal</saleprice>
            <salebegin>dateTime</salebegin>
            <saleend>dateTime</saleend>
          </productinformation>
        </productsordered>
      </purchaseorder>
    </createpurchaseorder>
  </soap:body>
</soap:envelope>

<p>```</p>

<h5 id="example-response-5">Example Response</h5>

<pre><code>data
</code></pre>

<h5 id="code-example-5">Code Example</h5>

<p>```java 
VendorIdentity vendor = new VendorIdentity();
vendor.VendorID = new Guid(VMI_VENDORID);
vendor.Username = VMI_USER;
vendor.Password = VMI_PASSWORD;
vendor.Client = new ClientAgent();
vendor.Client.ClientID = companyID;
vendor.Client.StoreID = 1;</p>

<p>DateTime ead1 = DateTime.Today.AddDays(14);
string eta = String.Format(â{0:D2}/{1:D2}/{2:D4}â, ead1.Month, ead1.Day, ead1.Year);
PurchaseOrder po = new PurchaseOrder();
po.PurchaseOrderID = new Guid();
po.PurchaseOrderData = new PurchaseOrderData();
po.PurchaseOrderData.BillToStoreID = stores[0].StoreID;
po.PurchaseOrderData.Comments = âTest purchase orderâ;
po.PurchaseOrderData.ShipToStoreID = stores[0].StoreID;
po.PurchaseOrderData.VendorInvoiceNumber = â123456789â;
po.PurchaseOrderData.EstimatedArrivalDate = eta;</p>

<p>po.ProductsOrdered = new ProductInformation[1];
po.ProductsOrdered[0] = new ProductInformation();
po.ProductsOrdered[0].ProductItemID = productID;
po.ProductsOrdered[0].ProductName = âSuper Phoneâ;
po.ProductsOrdered[0].ProductSKU = âPSKU123â;
po.ProductsOrdered[0].VendorSKU = âVSKU123â;
po.ProductsOrdered[0].QuantityOrdered = 2;
po.ProductsOrdered[0].ProductCost = 500.00;</p>

<p>PurchaseOrder poCreated = vmiService.CreatePurchaseOrder(vendor, po);</p>

<p>```</p>

<h2 id="step-8---optional-create-purchase-order-shipment-notice-asn">Step 8 - (Optional) Create Purchase Order Shipment Notice (ASN)</h2>

<p>This method allows the vendor to create a shipment notice for an existing purchase order. The shipment notice will be used when receiving purchase order products with serial numbers. Multiple shipment notices can be created for a single purchase order. Each shipment notice is for a single product. If more than one product appears in a shipment, create one shipment notice for each product, but use the same shipment number for all products in the same shipment.  Note: this call will take an array of PurchaseOrderShipmentNotice objects, so there is no need to call the VMI service once for each product in an order.</p>

<p>CreatePurchaseOrderShipmentNotice() (Optional) This method can be called to supply notification that products have shipped and any applicable serial numbers may be supplied.</p>

<h5 id="example-request-6">Example Request</h5>

<p><code>
POST https://vmidemo.iqmetrix.net/VMIService.asmx
Content-Type: text/xml; charset=utf-8
Content-Length: length
SOAPAction: "http://www.iqmetrix.com/CreatePurchaseOrderShipmentNotice"
</code>
```xml
<?xml version="1.0" encoding="utf-8"?></p>
<soap:envelope xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
  <soap:body>
    <createpurchaseordershipmentnotice xmlns="http://www.iqmetrix.com">
      <vendor>
        <vendorid>guid</vendorid>
        <username>string</username>
        <password>string</password>
        <client>
          <clientid>guid</clientid>
          <name>string</name>
          <storeid>int</storeid>
          <vendoraccountnumber>string</vendoraccountnumber>
        </client>
      </vendor>
      <notice>
        <purchaseordershipmentnotice>
          <shipmentnumber>string</shipmentnumber>
          <purchaseorderid>guid</purchaseorderid>
          <rqpurchaseorderid>int</rqpurchaseorderid>
          <vendorinvoicenumber>string</vendorinvoicenumber>
          <productitemid>int</productitemid>
          <quantity>int</quantity>
          <vendorsku>string</vendorsku>
          <serialnumbers>
            <string>string</string>
            ...
          </serialnumbers>
        </purchaseordershipmentnotice>
        ...
      </notice>
    </createpurchaseordershipmentnotice>
  </soap:body>
</soap:envelope>

<p>```</p>

<h5 id="example-response-6">Example Response</h5>

<pre><code>data
</code></pre>

<h5 id="code-example-6">Code Example</h5>

<p>```java
VendorIdentity vendor = new VendorIdentity();
vendor.VendorID = new Guid(VMI_VENDORID);
vendor.Username = VMI_USER;
vendor.Password = VMI_PASSWORD;
vendor.Client = new ClientAgent();
vendor.Client.ClientID = companyID;
vendor.Client.StoreID = 1;</p>

<p>PurchaseOrderShipmentNotice sn = new PurchaseOrderShipmentNotice();
sn.PurchaseOrderID = POID;</p>

<p>sn.ShipmentNumber = âShipment1 â;
sn.ProductItemID = productID;
sn.Quantity = 2;
sn.SerialNumber = {â12321323â, â12321324â};</p>

<p>PurchaseOrderShipmentNotice snReturn = 
    vmiService.CreatePurchaseOrderShipmentNotice(vendor, new[] { sn });</p>

<p>```</p>

<h2 id="step-9---get-inventory-list">Step 9 - Get Inventory List</h2>

<p>Retrieves an inventory of products for which the vendor is set as the primary vendor in RQ</p>

<h5 id="example-request-7">Example Request</h5>

<p><code>
POST https://vmidemo.iqmetrix.net/VMIService.asmx
Content-Type: text/xml; charset=utf-8
Content-Length: length
SOAPAction: "http://www.iqmetrix.com/GetInventoryList"
</code>
```xml
<?xml version="1.0" encoding="utf-8"?></p>
<soap:envelope xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
  <soap:body>
    <getinventorylist xmlns="http://www.iqmetrix.com">
      <vendor>
        <vendorid>guid</vendorid>
        <username>string</username>
        <password>string</password>
        <client>
          <clientid>guid</clientid>
          <name>string</name>
          <storeid>int</storeid>
          <vendoraccountnumber>string</vendoraccountnumber>
        </client>
      </vendor>
    </getinventorylist>
  </soap:body>
</soap:envelope>

<p>```</p>

<h5 id="example-response-7">Example Response</h5>

<pre><code>data
</code></pre>

<h5 id="code-example-7">Code Example</h5>

<p>```java
VendorIdentity vendor = new VendorIdentity();
vendor.VendorID = new Guid(VMI_VENDORID);
vendor.Username = VMI_USER;
vendor.Password = VMI_PASSWORD;
vendor.Client = new ClientAgent();
vendor.Client.ClientID = companyID;</p>

<p>VMIServiceSoapClient vmiService = new VMIServiceSoapClient(); 
HierarchyInfo hierarcy = vmiService.GetHierarchyInfo(vendor); 
//note: see GetGeographicInventoryReport for an example of better hierarchy usage</p>

<p>InventoryListingData[] data = vmiService.GetInventoryListingReport(vendor, 
hierarchy.Channels[0].channelID, -1, -1, -1);</p>

<p>```</p>

<h2 id="step-10---next-steps">Step 10 - Next Steps</h2>

<p>Now that you have completed the basic steps for working with feeds in the iQmetrix API, you can start the integration process from the <a href="/guides/dropship-order-guide">Dropship Order Management Guide</a>.</p>
</div>
              <div class="col-lg-1 hidden-md hidden-sm hidden-xs"><!-- start page metadata -->


<div class="pageMetadata affix">
    <div class="pageMetadataTitle">Table of Contents</div>
    
<!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
$( document ).ready(function() {

    $('#toc').toc({ minimumHeaders: 0, listType: 'ul', showSpeed: 0, headers: 'h2, h3' });

    //Resize once
    resizeWindow();

    //Resize whenever window changes
    $(window).resize(function () {
        resizeWindow();
    });

});

function resizeWindow() {

    var windowHeight = $(window).height();
    var windowWidth = $(window).width();

    var tocHeight = $(".pageMetadata").height();

    if(windowWidth < 1560 || windowHeight < tocHeight) {        
        //Grab "pageMetadata" and move it to first  child of .post-header
        $(".pageMetadata").prependTo(".post-header");
        $(".pageMetadata").removeClass("affix");        
    } else if(windowWidth > 1560) {
        //Grab "pageMetadata" and move it back to where it was
        $(".pageMetadata").appendTo(".col-lg-1.hidden-md.hidden-sm.hidden-xs");
        $(".pageMetadata" ).addClass("affix");
    }      
}

</script>

<div id="toc"></div>

    
    <p><div class="metadataRow"><span class="tagTitle">Last updated:</span> 13-06-2016</div></p>
    

</div>




<link rel="stylesheet" type="text/css" href="../../css/syntax.css">

<!-- end pageMetadata --></div>
            
    </div>

</body>

<!-- the google_analytics_id gets auto inserted from the config file -->


<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-408430-5', 'auto');
    ga('send', 'pageview');
</script>



</html>

