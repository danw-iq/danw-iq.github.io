<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #f8f8f2;
  background-color: #272822;
}
.highlight .err {
  color: #151515;
  background-color: #ac4142;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #505050;
}
.highlight .cp {
  color: #f4bf75;
}
.highlight .nt {
  color: #f4bf75;
}
.highlight .o, .highlight .ow {
  color: #d0d0d0;
}
.highlight .p, .highlight .pi {
  color: #d0d0d0;
}
.highlight .gi {
  color: #90a959;
}
.highlight .gd {
  color: #ac4142;
}
.highlight .gh {
  color: #6a9fb5;
  background-color: #151515;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #aa759f;
}
.highlight .kc {
  color: #d28445;
}
.highlight .kt {
  color: #d28445;
}
.highlight .kd {
  color: #d28445;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #90a959;
}
.highlight .sr {
  color: #75b5aa;
}
.highlight .si {
  color: #8f5536;
}
.highlight .se {
  color: #8f5536;
}
.highlight .nn {
  color: #f4bf75;
}
.highlight .nc {
  color: #f4bf75;
}
.highlight .no {
  color: #f4bf75;
}
.highlight .na {
  color: #6a9fb5;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #90a959;
}
.highlight .ss {
  color: #90a959;
}
    </style>
    <title>VMI Onboarding Guide | iQmetrix Developer Portal</title>
    <link href="../../css/screen.css" rel="stylesheet" media="screen" />
    <link href="../../css/print.css" rel="stylesheet" media="print" />
    <script src="../../js/all.js"></script>

    <link rel="shortcut icon" href="../../images/favicon.ico" type="image/x-icon">
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

    <body class="api api_catalog2 api_catalog2_index" data-languages="[&quot;javascript&quot;,&quot;shell&quot;,&quot;csharp&quot;,&quot;java&quot;,&quot;ruby&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="../../images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="../../images/logo.png" />
        <div class="lang-selector">
              <a href="#" data-language-name="javascript">javascript</a>
              <a href="#" data-language-name="shell">cURL</a>
              <a href="#" data-language-name="csharp">c#</a>
              <a href="#" data-language-name="java">java</a>
              <a href="#" data-language-name="ruby">ruby</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
    </div>

    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">

      
<h2 id="overview">Overview</h2>

<p>The following document outlines the APIs and calls required for a VMI integration with iQmetrix. The steps outlined in this guide are focused on onboarding and are meant to be performed sequentially.</p>

<p>Each segment in this guide will provide high-level concepts before describing examples of the API call required.</p>

<p><br />
<strong>Figure 1:</strong> Illustrates the suggested flow for processing a VMI order.
<img title="dropship pos flow diagram" src="http://localhost:4006/images/vmi-flow.png" /></p>

<h4 id="who-is-this-guide-for">Who Is This Guide For?</h4>

<p>The intended audience for this guide are developers who are integrating a supplier into the iQmetrix VMI program.</p>

<h4 id="vmi-introduction">VMI Introduction</h4>

<p>The Vendor Managed Inventory (VMI) API allows vendors to communicate with customers running RQ in order to report on product inventory and to create purchase orders to replenish products. RQ users will be able to see the purchase orders created using VMI API and receive it when it arrives at the store. This document explains how to use the VMI API.</p>

<div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> <b>Note: </b>RetailiQ is the legacy retail management system produced by iQmetrix. It has been replaced by RQ. In this document, RetailiQ and RQ can be used synonymously.</div>

<h4 id="onboarding-package">Onboarding Package</h4>

<p>As part of the onboarding process, you will have received an onboarding package from the iQmetrix API team. This package provides you credentials and access details in order to perform the topics covered in this guide.</p>

<p>Should you require information beyond the scope of this guide, or did not receive the onboarding package, contact <a href="mailto:?subject=Support">API Support</a>.</p>

<h4 id="architecture">Architecture</h4>

<p>The VMI API is implemented as a web service using standard Simple Object Access Protocol (SOAP) to send XML messages between vendor and iQmetrix. This allows the API to be platform and programming language independent. Communication is done using SSL on the standard port 443 in order to secure data transfers.</p>

<h4 id="enable-vmi-for-an-rq-company">Enable VMI for an RQ Company</h4>

<p>Each company for which Vendor Replenishment is being implemented needs to setup Vendor Replenishment for the particular vendor to grant the vendor access to company data. Refer to Vendor Replenishment Setup Guide for instructions how to do this.</p>

<h4 id="environment">Environment</h4>

<p>iQmetrix provides you with two environments: Sandbox and Production. 
Use the Sandbox environment to test your API and to perform end-to-end testing. After completing this stage proceed to the Production environment.</p>

<p>For more information on environments, see <a href="/api/#environments">Environment</a>.</p>

<p>The WSDL for the sandbox web service is located at <a href="https://vmi7.iqmetrix.net/VMIService.asmx">https://vmi7.iqmetrix.net/VMIService.asmx</a>.</p>

<p>The WSDL for the production web service is located at <a href="https://vmi1.iqmetrix.net/VMIService.asmx">https://vmi1.iqmetrix.net/VMIService.asmx</a>.</p>

<h2 id="step-1---authentication">Step 1 - Authentication</h2>

<p>In order to make authorized requests to iQmetrix SOAP APIs, you need a username and password.</p>

<p>Please contact <a href="mailto:?subject=VMI Credentials">API Support</a> for a username and password.</p>

<h2 id="step-2---get-pending-companies">Step 2 - Get Pending Companies</h2>

<p>Retrieves a list of all companies that are in a Pending state for the Vendor.  This means that the company has completed setup within RQ, chosen the vendor, added stores to the relationship, and configured product for replenishment.  Vendors can only create POs for “Enabled” companies.  A company can be enabled or disabled through this interface by calling EnableCompany().</p>

<h5 id="example-request">Example Request</h5>

<div class="highlighter-rouge"><pre class="highlight"><code>POST https://vmidemo.iqmetrix.net/VMIClientService.asmx 
Content-Type: text/xml
</code></pre>
</div>
<div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;soap:Envelope</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span> <span class="na">xmlns:soap=</span><span class="s">"http://schemas.xmlsoap.org/soap/envelope/"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;soap:Body&gt;</span>
    <span class="nt">&lt;GetPendingCompanies</span> <span class="na">xmlns=</span><span class="s">"http://www.iqmetrix.com"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;vendor&gt;</span>
        <span class="nt">&lt;VendorID&gt;</span>guid<span class="nt">&lt;/VendorID&gt;</span>
        <span class="nt">&lt;Username&gt;</span>string<span class="nt">&lt;/Username&gt;</span>
        <span class="nt">&lt;Password&gt;</span>string<span class="nt">&lt;/Password&gt;</span>
        <span class="nt">&lt;Client&gt;</span>
          <span class="nt">&lt;ClientID&gt;</span>guid<span class="nt">&lt;/ClientID&gt;</span>
          <span class="nt">&lt;Name&gt;</span>string<span class="nt">&lt;/Name&gt;</span>
          <span class="nt">&lt;StoreID&gt;</span>int<span class="nt">&lt;/StoreID&gt;</span>
          <span class="nt">&lt;VendorAccountNumber&gt;</span>string<span class="nt">&lt;/VendorAccountNumber&gt;</span>
        <span class="nt">&lt;/Client&gt;</span>
      <span class="nt">&lt;/vendor&gt;</span>
    <span class="nt">&lt;/GetPendingCompanies&gt;</span>
  <span class="nt">&lt;/soap:Body&gt;</span>
<span class="nt">&lt;/soap:Envelope&gt;</span>

</code></pre>
</div>

<h5 id="code-example">Code Example</h5>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="n">VendorIdentity</span> <span class="n">vendor</span> <span class="o">=</span> <span class="k">new</span> <span class="n">VendorIdentity</span><span class="o">();</span>
<span class="n">vendor</span><span class="o">.</span><span class="na">VendorID</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Guid</span><span class="o">(</span><span class="n">VMI_VENDORID</span><span class="o">);</span>
<span class="n">vendor</span><span class="o">.</span><span class="na">Username</span> <span class="o">=</span> <span class="n">VMI_USER</span><span class="o">;</span>
<span class="n">vendor</span><span class="o">.</span><span class="na">Password</span> <span class="o">=</span> <span class="n">VMI_PASSWORD</span><span class="o">;</span>
<span class="n">VMIServiceSoapClient</span> <span class="n">vmiService</span> <span class="o">=</span> <span class="k">new</span> <span class="n">VMIServiceSoapClient</span><span class="o">();</span>
<span class="n">CompanyInformation</span><span class="o">[]</span> <span class="n">companies</span> <span class="o">=</span> <span class="n">vmiService</span><span class="o">.</span><span class="na">GetPendingCompanies</span><span class="o">(</span><span class="n">vendor</span><span class="o">);</span>

</code></pre>
</div>

<h5 id="example-response">Example Response</h5>

<div class="highlighter-rouge"><pre class="highlight"><code>ABC123
</code></pre>
</div>

<h2 id="step-3---enable-company">Step 3 - Enable Company</h2>

<p>Change the interaction status of a company.  By enabling a company, it will be visible when GetCompanyList() is called.  Disabling a company will remove it from that list and will only be accessible through a call to GetDisabledCompanies().  Only enabled companies may receive purchase orders through the VMI services.</p>

<h5 id="example-request-1">Example Request</h5>

<div class="highlighter-rouge"><pre class="highlight"><code>POST https://vmidemo.iqmetrix.net/VMIService.asmx
Content-Type: text/xml; charset=utf-8
Content-Length: length
SOAPAction: "http://www.iqmetrix.com/EnableCompany"
</code></pre>
</div>
<div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;soap:Envelope</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span> <span class="na">xmlns:soap=</span><span class="s">"http://schemas.xmlsoap.org/soap/envelope/"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;soap:Body&gt;</span>
    <span class="nt">&lt;EnableCompany</span> <span class="na">xmlns=</span><span class="s">"http://www.iqmetrix.com"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;vendor&gt;</span>
        <span class="nt">&lt;VendorID&gt;</span>guid<span class="nt">&lt;/VendorID&gt;</span>
        <span class="nt">&lt;Username&gt;</span>string<span class="nt">&lt;/Username&gt;</span>
        <span class="nt">&lt;Password&gt;</span>string<span class="nt">&lt;/Password&gt;</span>
        <span class="nt">&lt;Client&gt;</span>
          <span class="nt">&lt;ClientID&gt;</span>guid<span class="nt">&lt;/ClientID&gt;</span>
          <span class="nt">&lt;Name&gt;</span>string<span class="nt">&lt;/Name&gt;</span>
          <span class="nt">&lt;StoreID&gt;</span>int<span class="nt">&lt;/StoreID&gt;</span>
          <span class="nt">&lt;VendorAccountNumber&gt;</span>string<span class="nt">&lt;/VendorAccountNumber&gt;</span>
        <span class="nt">&lt;/Client&gt;</span>
      <span class="nt">&lt;/vendor&gt;</span>
      <span class="nt">&lt;isEnabled&gt;</span>boolean<span class="nt">&lt;/isEnabled&gt;</span>
    <span class="nt">&lt;/EnableCompany&gt;</span>
  <span class="nt">&lt;/soap:Body&gt;</span>
<span class="nt">&lt;/soap:Envelope&gt;</span>

</code></pre>
</div>

<h5 id="code-example-1">Code Example</h5>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="n">VendorIdentity</span> <span class="n">vendor</span> <span class="o">=</span> <span class="k">new</span> <span class="n">VendorIdentity</span><span class="o">();</span>
<span class="n">vendor</span><span class="o">.</span><span class="na">VendorID</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Guid</span><span class="o">(</span><span class="n">VMI_VENDORID</span><span class="o">);</span>
<span class="n">vendor</span><span class="o">.</span><span class="na">Username</span> <span class="o">=</span> <span class="n">VMI_USER</span><span class="o">;</span>
<span class="n">vendor</span><span class="o">.</span><span class="na">Password</span> <span class="o">=</span> <span class="n">VMI_PASSWORD</span><span class="o">;</span>
<span class="n">vendor</span><span class="o">.</span><span class="na">Client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ClientAgent</span><span class="o">();</span>
<span class="n">vendor</span><span class="o">.</span><span class="na">Client</span><span class="o">.</span><span class="na">ClientID</span> <span class="o">=</span> <span class="n">companyID</span><span class="o">;</span>
<span class="n">vmiService</span><span class="o">.</span><span class="na">EnableCompany</span><span class="o">(</span><span class="n">vendor</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span> <span class="c1">// false to disable a company</span>

</code></pre>
</div>

<h5 id="example-response-1">Example Response</h5>

<div class="highlighter-rouge"><pre class="highlight"><code>Data
</code></pre>
</div>

<h2 id="step-4---get-company-list">Step 4 - Get Company List</h2>

<p>Retrieves a list of all companies that has VMI enabled for Xentris</p>

<p>Get a list of VMI enabled companies. This list contains a unique identifier for each company which is used in subsequent web method calls.</p>

<h5 id="example-request-2">Example Request</h5>

<div class="highlighter-rouge"><pre class="highlight"><code>POST https://vmidemo.iqmetrix.net/VMIService.asmx
Content-Type: text/xml; charset=utf-8
Content-Length: length
SOAPAction: "http://www.iqmetrix.com/GetCompanyList"
</code></pre>
</div>
<div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;soap:Envelope</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span> <span class="na">xmlns:soap=</span><span class="s">"http://schemas.xmlsoap.org/soap/envelope/"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;soap:Body&gt;</span>
    <span class="nt">&lt;GetCompanyList</span> <span class="na">xmlns=</span><span class="s">"http://www.iqmetrix.com"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;Vendor&gt;</span>
        <span class="nt">&lt;VendorID&gt;</span>guid<span class="nt">&lt;/VendorID&gt;</span>
        <span class="nt">&lt;Username&gt;</span>string<span class="nt">&lt;/Username&gt;</span>
        <span class="nt">&lt;Password&gt;</span>string<span class="nt">&lt;/Password&gt;</span>
        <span class="nt">&lt;Client&gt;</span>
          <span class="nt">&lt;ClientID&gt;</span>guid<span class="nt">&lt;/ClientID&gt;</span>
          <span class="nt">&lt;Name&gt;</span>string<span class="nt">&lt;/Name&gt;</span>
          <span class="nt">&lt;StoreID&gt;</span>int<span class="nt">&lt;/StoreID&gt;</span>
          <span class="nt">&lt;VendorAccountNumber&gt;</span>string<span class="nt">&lt;/VendorAccountNumber&gt;</span>
        <span class="nt">&lt;/Client&gt;</span>
      <span class="nt">&lt;/Vendor&gt;</span>
    <span class="nt">&lt;/GetCompanyList&gt;</span>
  <span class="nt">&lt;/soap:Body&gt;</span>
<span class="nt">&lt;/soap:Envelope&gt;</span>

</code></pre>
</div>

<h5 id="code-example-2">Code Example</h5>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="n">VendorIdentity</span> <span class="n">vendor</span> <span class="o">=</span> <span class="k">new</span> <span class="n">VendorIdentity</span><span class="o">();</span>
<span class="n">vendor</span><span class="o">.</span><span class="na">VendorID</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Guid</span><span class="o">(</span><span class="n">VMI_VENDORID</span><span class="o">);</span>
<span class="n">vendor</span><span class="o">.</span><span class="na">Username</span> <span class="o">=</span> <span class="n">VMI_USER</span><span class="o">;</span>
<span class="n">vendor</span><span class="o">.</span><span class="na">Password</span> <span class="o">=</span> <span class="n">VMI_PASSWORD</span><span class="o">;</span>
<span class="n">VMIServiceSoapClient</span> <span class="n">vmiService</span> <span class="o">=</span> <span class="k">new</span> <span class="n">VMIServiceSoapClient</span><span class="o">();</span>
<span class="n">CompanyInformation</span><span class="o">[]</span> <span class="n">companies</span> <span class="o">=</span> <span class="n">vmiService</span><span class="o">.</span><span class="na">GetCompanyList</span><span class="o">(</span><span class="n">vendor</span><span class="o">);</span>

</code></pre>
</div>

<h5 id="example-response-2">Example Response</h5>

<div class="highlighter-rouge"><pre class="highlight"><code>Data
</code></pre>
</div>

<h2 id="step-5---get-store-list">Step 5 - Get Store List</h2>

<p>Retrieves a list of VMI enabled stores</p>

<p>GetHierarchyInfo()
Get the company location structure, complete with store counts</p>

<h5 id="example-request-3">Example Request</h5>

<div class="highlighter-rouge"><pre class="highlight"><code>POST https://vmidemo.iqmetrix.net/VMIService.asmx
Content-Type: text/xml; charset=utf-8
Content-Length: length
SOAPAction: "http://www.iqmetrix.com/GetStoreList"
</code></pre>
</div>
<div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;soap:Envelope</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span> <span class="na">xmlns:soap=</span><span class="s">"http://schemas.xmlsoap.org/soap/envelope/"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;soap:Body&gt;</span>
    <span class="nt">&lt;GetStoreList</span> <span class="na">xmlns=</span><span class="s">"http://www.iqmetrix.com"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;Vendor&gt;</span>
        <span class="nt">&lt;VendorID&gt;</span>guid<span class="nt">&lt;/VendorID&gt;</span>
        <span class="nt">&lt;Username&gt;</span>string<span class="nt">&lt;/Username&gt;</span>
        <span class="nt">&lt;Password&gt;</span>string<span class="nt">&lt;/Password&gt;</span>
        <span class="nt">&lt;Client&gt;</span>
          <span class="nt">&lt;ClientID&gt;</span>guid<span class="nt">&lt;/ClientID&gt;</span>
          <span class="nt">&lt;Name&gt;</span>string<span class="nt">&lt;/Name&gt;</span>
          <span class="nt">&lt;StoreID&gt;</span>int<span class="nt">&lt;/StoreID&gt;</span>
          <span class="nt">&lt;VendorAccountNumber&gt;</span>string<span class="nt">&lt;/VendorAccountNumber&gt;</span>
        <span class="nt">&lt;/Client&gt;</span>
      <span class="nt">&lt;/Vendor&gt;</span>
    <span class="nt">&lt;/GetStoreList&gt;</span>
  <span class="nt">&lt;/soap:Body&gt;</span>
<span class="nt">&lt;/soap:Envelope&gt;</span>

</code></pre>
</div>

<h5 id="example-response-3">Example Response</h5>

<div class="highlighter-rouge"><pre class="highlight"><code>data
</code></pre>
</div>

<h5 id="code-example-3">Code Example</h5>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="n">VendorIdentity</span> <span class="n">vendor</span> <span class="o">=</span> <span class="k">new</span> <span class="n">VendorIdentity</span><span class="o">();</span>
<span class="n">vendor</span><span class="o">.</span><span class="na">VendorID</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Guid</span><span class="o">(</span><span class="n">VMI_VENDORID</span><span class="o">);</span>
<span class="n">vendor</span><span class="o">.</span><span class="na">Username</span> <span class="o">=</span> <span class="n">VMI_USER</span><span class="o">;</span>
<span class="n">vendor</span><span class="o">.</span><span class="na">Password</span> <span class="o">=</span> <span class="n">VMI_PASSWORD</span><span class="o">;</span>
<span class="n">vendor</span><span class="o">.</span><span class="na">Client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ClientAgent</span><span class="o">();</span>
<span class="n">vendor</span><span class="o">.</span><span class="na">Client</span><span class="o">.</span><span class="na">ClientID</span> <span class="o">=</span> <span class="n">companyID</span><span class="o">;</span>
<span class="n">StoreInformation</span><span class="o">[]</span> <span class="n">stores</span> <span class="o">=</span> <span class="n">vmiService</span><span class="o">.</span><span class="na">GetStoreList</span><span class="o">(</span><span class="n">vendor</span><span class="o">);</span>

</code></pre>
</div>

<h2 id="step-6---get-inventory-report">Step 6 - Get Inventory Report</h2>

<p>This method allows you to get an inventory report for a particular store. This includes data like minimum and maximum inventory, quantity on hand, quantity sold within a particular date range, product SKU etc</p>

<p>Used in conjunction with the GetHierarchyInfo call, this method will gather the same information as the GetInventoryReportByVendorSKU() call, but will gather data based on a Channel, or a Region, or a District, or a Store. This allows consumers to get inventory data for a large number of stores at one time. Use throttling logic based on data from GetHierarchyInfo to determine which level of the hierarchy to gather data for. See Note below.</p>

<p>GetGeographicInventoryReport()
Apply logic to each level in the hierarchy to gather data for multiple stores. Example provided in the details for GetGeographicInventoryReport below.</p>

<p>The payload and/or processing time for this call can be huge. Consider the number of locations multiplied by the number of products you supply for that store. The Hierarchy info has a store count for each level of the hierarchy. Use this value to allow your software to intelligently choose the appropriate level to request. The example below shows how this may be implemented. Consider using a configuration value instead of hard-coding the throttle value.
Also note that if the HierarchyInfo contains a default Channel of Guid.Empty (00000000-0000-0000-0000-000000000000), you must get data at the Region level.</p>

<h5 id="example-request-4">Example Request</h5>

<div class="highlighter-rouge"><pre class="highlight"><code>POST https://vmidemo.iqmetrix.net/VMIService.asmx
Content-Type: text/xml; charset=utf-8
Content-Length: length
SOAPAction: "http://www.iqmetrix.com/GetGeographicInventoryReport"
</code></pre>
</div>
<div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;soap:Envelope</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span> <span class="na">xmlns:soap=</span><span class="s">"http://schemas.xmlsoap.org/soap/envelope/"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;soap:Body&gt;</span>
    <span class="nt">&lt;GetGeographicInventoryReport</span> <span class="na">xmlns=</span><span class="s">"http://www.iqmetrix.com"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;Vendor&gt;</span>
        <span class="nt">&lt;VendorID&gt;</span>guid<span class="nt">&lt;/VendorID&gt;</span>
        <span class="nt">&lt;Username&gt;</span>string<span class="nt">&lt;/Username&gt;</span>
        <span class="nt">&lt;Password&gt;</span>string<span class="nt">&lt;/Password&gt;</span>
        <span class="nt">&lt;Client&gt;</span>
          <span class="nt">&lt;ClientID&gt;</span>guid<span class="nt">&lt;/ClientID&gt;</span>
          <span class="nt">&lt;Name&gt;</span>string<span class="nt">&lt;/Name&gt;</span>
          <span class="nt">&lt;StoreID&gt;</span>int<span class="nt">&lt;/StoreID&gt;</span>
          <span class="nt">&lt;VendorAccountNumber&gt;</span>string<span class="nt">&lt;/VendorAccountNumber&gt;</span>
        <span class="nt">&lt;/Client&gt;</span>
      <span class="nt">&lt;/Vendor&gt;</span>
      <span class="nt">&lt;channelId&gt;</span>guid<span class="nt">&lt;/channelId&gt;</span>
      <span class="nt">&lt;regionId&gt;</span>int<span class="nt">&lt;/regionId&gt;</span>
      <span class="nt">&lt;districtId&gt;</span>int<span class="nt">&lt;/districtId&gt;</span>
      <span class="nt">&lt;storeId&gt;</span>int<span class="nt">&lt;/storeId&gt;</span>
      <span class="nt">&lt;StartDate&gt;</span>string<span class="nt">&lt;/StartDate&gt;</span>
      <span class="nt">&lt;EndDate&gt;</span>string<span class="nt">&lt;/EndDate&gt;</span>
    <span class="nt">&lt;/GetGeographicInventoryReport&gt;</span>
  <span class="nt">&lt;/soap:Body&gt;</span>
<span class="nt">&lt;/soap:Envelope&gt;</span>

</code></pre>
</div>

<h5 id="example-response-4">Example Response</h5>

<div class="highlighter-rouge"><pre class="highlight"><code>data
</code></pre>
</div>

<h5 id="code-example-4">Code Example</h5>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="n">VendorIdentity</span> <span class="n">vendor</span> <span class="o">=</span> <span class="k">new</span> <span class="n">VendorIdentity</span><span class="o">();</span>
<span class="n">vendor</span><span class="o">.</span><span class="na">VendorID</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Guid</span><span class="o">(</span><span class="n">VMI_VENDORID</span><span class="o">);</span>
<span class="n">vendor</span><span class="o">.</span><span class="na">Username</span> <span class="o">=</span> <span class="n">VMI_USER</span><span class="o">;</span>
<span class="n">vendor</span><span class="o">.</span><span class="na">Password</span> <span class="o">=</span> <span class="n">VMI_PASSWORD</span><span class="o">;</span>
<span class="n">vendor</span><span class="o">.</span><span class="na">Client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ClientAgent</span><span class="o">();</span>
<span class="n">vendor</span><span class="o">.</span><span class="na">Client</span><span class="o">.</span><span class="na">ClientID</span> <span class="o">=</span> <span class="n">companyID</span><span class="o">;</span>
<span class="n">VMIServiceSoapClient</span> <span class="n">vmiService</span> <span class="o">=</span> <span class="k">new</span> <span class="n">VMIServiceSoapClient</span><span class="o">();</span> 
<span class="n">HierarchyInfo</span> <span class="n">hierarcy</span> <span class="o">=</span> <span class="n">vmiService</span><span class="o">.</span><span class="na">GetHierarchyInfo</span><span class="o">(</span><span class="n">vendor</span><span class="o">);</span> 

<span class="kt">int</span> <span class="n">lotsOfStores</span> <span class="o">=</span> <span class="mi">30</span><span class="o">;</span> <span class="c1">//throttle value </span>
<span class="n">var</span> <span class="n">result</span> <span class="o">=</span> <span class="k">new</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">ProductAndStoreInformation</span><span class="o">&gt;();</span> 
<span class="n">var</span> <span class="n">startDate</span> <span class="o">=</span> <span class="s">"07/01/2012"</span><span class="o">;</span> 
<span class="n">var</span> <span class="n">endDate</span> <span class="o">=</span> <span class="s">"07/02/2012"</span><span class="o">;</span> 

<span class="n">foreach</span> <span class="o">(</span><span class="n">var</span> <span class="n">channel</span> <span class="n">in</span> <span class="n">hierarchy</span><span class="o">.</span><span class="na">Channels</span><span class="o">)</span> 
<span class="o">{</span> 
    <span class="c1">//default channel, or channel has lots of stores and has regions </span>
    <span class="k">if</span> <span class="o">(</span><span class="n">channel</span><span class="o">.</span><span class="na">ChannelID</span> <span class="o">==</span> <span class="n">Guid</span><span class="o">.</span><span class="na">Empty</span> <span class="o">||</span> 
        <span class="n">channel</span><span class="o">.</span><span class="na">StoreCount</span> <span class="o">&gt;</span> <span class="n">lotsOfStores</span> <span class="o">&amp;&amp;</span> <span class="n">channel</span><span class="o">.</span><span class="na">Regions</span><span class="o">.</span><span class="na">Any</span><span class="o">())</span> 
    <span class="o">{</span> 
        <span class="n">foreach</span> <span class="o">(</span><span class="n">var</span> <span class="n">region</span> <span class="n">in</span> <span class="n">channel</span><span class="o">.</span><span class="na">Regions</span><span class="o">)</span> 
        <span class="o">{</span> 
            <span class="c1">//region has lots of stores and districts exist </span>
            <span class="k">if</span> <span class="o">(</span><span class="n">region</span><span class="o">.</span><span class="na">StoreCount</span> <span class="o">&gt;</span> <span class="n">lotsOfStores</span> <span class="o">&amp;&amp;</span> <span class="n">region</span><span class="o">.</span><span class="na">Districts</span><span class="o">.</span><span class="na">Any</span><span class="o">())</span> 
            <span class="o">{</span> 
                <span class="n">foreach</span> <span class="o">(</span><span class="n">var</span> <span class="n">district</span> <span class="n">in</span> <span class="n">region</span><span class="o">.</span><span class="na">Districts</span><span class="o">)</span> 
                <span class="o">{</span> 
                    <span class="k">if</span> <span class="o">(</span><span class="n">district</span><span class="o">.</span><span class="na">StoreCount</span> <span class="o">&gt;</span> <span class="n">lotsOfStores</span><span class="o">)</span> 
                    <span class="o">{</span> 
                        <span class="c1">//loop here for each store </span>
                    <span class="o">}</span> 
                    <span class="k">else</span> 
                        <span class="o">{</span>
                        <span class="n">result</span><span class="o">.</span><span class="na">AddRange</span><span class="o">(</span><span class="n">vmiService</span><span class="o">.</span><span class="na">GetGeographicInventoryReport</span> 
                        <span class="o">(</span><span class="n">_vendor</span><span class="o">,</span> <span class="n">Guid</span><span class="o">.</span><span class="na">Empty</span><span class="o">,</span> <span class="o">-</span><span class="mi">1</span><span class="o">,</span> <span class="n">district</span><span class="o">.</span><span class="na">DistrictID</span><span class="o">,</span>
                        <span class="o">-</span><span class="mi">1</span><span class="o">,</span> <span class="n">startDate</span><span class="o">,</span> <span class="n">endDate</span><span class="o">));</span> 
                        <span class="o">}</span> 
                <span class="o">}</span> 
            <span class="o">}</span> 
            <span class="k">else</span> <span class="c1">//region has few stores or no districts exist </span>
            <span class="o">{</span> 
                <span class="n">result</span><span class="o">.</span><span class="na">AddRange</span><span class="o">(</span><span class="n">vmiService</span><span class="o">.</span><span class="na">GetGeographicInventoryReport</span> 
                <span class="o">(</span><span class="n">_vendor</span><span class="o">,</span> <span class="n">Guid</span><span class="o">.</span><span class="na">Empty</span><span class="o">,</span> <span class="n">region</span><span class="o">.</span><span class="na">RegionID</span><span class="o">,</span> 
                <span class="o">-</span><span class="mi">1</span><span class="o">,</span> <span class="o">-</span><span class="mi">1</span><span class="o">,</span> <span class="n">startDate</span><span class="o">,</span> <span class="n">endDate</span><span class="o">));</span> 
            <span class="o">}</span> 
        <span class="o">}</span> 
    <span class="o">}</span> 
    <span class="k">else</span> <span class="c1">//channel has few stores or no regions exist </span>
    <span class="o">{</span> 
        <span class="n">result</span><span class="o">.</span><span class="na">AddRange</span><span class="o">(</span><span class="n">vmiService</span><span class="o">.</span><span class="na">GetGeographicInventoryReport</span> 
            <span class="o">(</span><span class="n">_vendor</span><span class="o">,</span> <span class="n">channel</span><span class="o">.</span><span class="na">ChannelID</span><span class="o">,</span> <span class="o">-</span><span class="mi">1</span><span class="o">,</span> <span class="o">-</span><span class="mi">1</span><span class="o">,</span> <span class="o">-</span><span class="mi">1</span><span class="o">,</span> <span class="n">startDate</span><span class="o">,</span> <span class="n">endDate</span><span class="o">));</span> 
    <span class="o">}</span> 
<span class="o">}</span>

</code></pre>
</div>

<h2 id="step-7---create-purchase-order">Step 7 - Create Purchase Order</h2>

<p>This method allows the vendor to create a purchase order for a particular store and a set of products. This allows RQ to properly account for products arriving at a store so that stock levels are updated correctly.  You must be marked as the Primary Vendor in RQ to add a product to a Purchase Order.</p>

<p>CreatePurchaseOrder() If it is determined in step 3 that inventory of a particular set of products need to be replenished, call this web method to create a purchase order in RQ.</p>

<h5 id="example-request-5">Example Request</h5>

<div class="highlighter-rouge"><pre class="highlight"><code>POST https://vmidemo.iqmetrix.net/VMIService.asmx
Content-Type: text/xml; charset=utf-8
Content-Length: length
SOAPAction: "http://www.iqmetrix.com/CreatePurchaseOrder"
</code></pre>
</div>
<div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;soap:Envelope</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span> <span class="na">xmlns:soap=</span><span class="s">"http://schemas.xmlsoap.org/soap/envelope/"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;soap:Body&gt;</span>
    <span class="nt">&lt;CreatePurchaseOrder</span> <span class="na">xmlns=</span><span class="s">"http://www.iqmetrix.com"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;Vendor&gt;</span>
        <span class="nt">&lt;VendorID&gt;</span>guid<span class="nt">&lt;/VendorID&gt;</span>
        <span class="nt">&lt;Username&gt;</span>string<span class="nt">&lt;/Username&gt;</span>
        <span class="nt">&lt;Password&gt;</span>string<span class="nt">&lt;/Password&gt;</span>
        <span class="nt">&lt;Client&gt;</span>
          <span class="nt">&lt;ClientID&gt;</span>guid<span class="nt">&lt;/ClientID&gt;</span>
          <span class="nt">&lt;Name&gt;</span>string<span class="nt">&lt;/Name&gt;</span>
          <span class="nt">&lt;StoreID&gt;</span>int<span class="nt">&lt;/StoreID&gt;</span>
          <span class="nt">&lt;VendorAccountNumber&gt;</span>string<span class="nt">&lt;/VendorAccountNumber&gt;</span>
        <span class="nt">&lt;/Client&gt;</span>
      <span class="nt">&lt;/Vendor&gt;</span>
      <span class="nt">&lt;PurchaseOrder&gt;</span>
        <span class="nt">&lt;PurchaseOrderID&gt;</span>guid<span class="nt">&lt;/PurchaseOrderID&gt;</span>
        <span class="nt">&lt;PurchaseOrderData&gt;</span>
          <span class="nt">&lt;PurchaseOrderID&gt;</span>guid<span class="nt">&lt;/PurchaseOrderID&gt;</span>
          <span class="nt">&lt;RetailiQPurchaseOrderID&gt;</span>int<span class="nt">&lt;/RetailiQPurchaseOrderID&gt;</span>
          <span class="nt">&lt;RetailiQPurchaseOrderNumber&gt;</span>string<span class="nt">&lt;/RetailiQPurchaseOrderNumber&gt;</span>
          <span class="nt">&lt;ShipToStoreID&gt;</span>int<span class="nt">&lt;/ShipToStoreID&gt;</span>
          <span class="nt">&lt;ShipToVendorAccountNumber&gt;</span>string<span class="nt">&lt;/ShipToVendorAccountNumber&gt;</span>
          <span class="nt">&lt;BillToStoreID&gt;</span>int<span class="nt">&lt;/BillToStoreID&gt;</span>
          <span class="nt">&lt;BillToVendorAccountNumber&gt;</span>string<span class="nt">&lt;/BillToVendorAccountNumber&gt;</span>
          <span class="nt">&lt;OrderTotal&gt;</span>decimal<span class="nt">&lt;/OrderTotal&gt;</span>
          <span class="nt">&lt;ShippingTotal&gt;</span>decimal<span class="nt">&lt;/ShippingTotal&gt;</span>
          <span class="nt">&lt;VendorInvoiceNumber&gt;</span>string<span class="nt">&lt;/VendorInvoiceNumber&gt;</span>
          <span class="nt">&lt;EstimatedArrivalDate&gt;</span>string<span class="nt">&lt;/EstimatedArrivalDate&gt;</span>
          <span class="nt">&lt;Comments&gt;</span>string<span class="nt">&lt;/Comments&gt;</span>
          <span class="nt">&lt;ShipToStoreName&gt;</span>string<span class="nt">&lt;/ShipToStoreName&gt;</span>
          <span class="nt">&lt;BillToStoreName&gt;</span>string<span class="nt">&lt;/BillToStoreName&gt;</span>
          <span class="nt">&lt;VendorName&gt;</span>string<span class="nt">&lt;/VendorName&gt;</span>
          <span class="nt">&lt;CreatedByVMI&gt;</span>boolean<span class="nt">&lt;/CreatedByVMI&gt;</span>
          <span class="nt">&lt;CreatedDate&gt;</span>string<span class="nt">&lt;/CreatedDate&gt;</span>
          <span class="nt">&lt;IsDeleted&gt;</span>boolean<span class="nt">&lt;/IsDeleted&gt;</span>
        <span class="nt">&lt;/PurchaseOrderData&gt;</span>
        <span class="nt">&lt;ProductsOrdered&gt;</span>
          <span class="nt">&lt;ProductInformation&gt;</span>
            <span class="nt">&lt;ProductID&gt;</span>guid<span class="nt">&lt;/ProductID&gt;</span>
            <span class="nt">&lt;ProductSKU&gt;</span>string<span class="nt">&lt;/ProductSKU&gt;</span>
            <span class="nt">&lt;VendorSKU&gt;</span>string<span class="nt">&lt;/VendorSKU&gt;</span>
            <span class="nt">&lt;ProductItemID&gt;</span>int<span class="nt">&lt;/ProductItemID&gt;</span>
            <span class="nt">&lt;CategoryPath&gt;</span>string<span class="nt">&lt;/CategoryPath&gt;</span>
            <span class="nt">&lt;ProductName&gt;</span>string<span class="nt">&lt;/ProductName&gt;</span>
            <span class="nt">&lt;MaximumLevel&gt;</span>int<span class="nt">&lt;/MaximumLevel&gt;</span>
            <span class="nt">&lt;MinimumLevel&gt;</span>int<span class="nt">&lt;/MinimumLevel&gt;</span>
            <span class="nt">&lt;ProductCost&gt;</span>decimal<span class="nt">&lt;/ProductCost&gt;</span>
            <span class="nt">&lt;QuantityInStock&gt;</span>int<span class="nt">&lt;/QuantityInStock&gt;</span>
            <span class="nt">&lt;QuantityOnOrder&gt;</span>int<span class="nt">&lt;/QuantityOnOrder&gt;</span>
            <span class="nt">&lt;QuantityOnUncommittedOrder&gt;</span>int<span class="nt">&lt;/QuantityOnUncommittedOrder&gt;</span>
            <span class="nt">&lt;QuantityOnBackOrder&gt;</span>int<span class="nt">&lt;/QuantityOnBackOrder&gt;</span>
            <span class="nt">&lt;QuantityInTransfer&gt;</span>int<span class="nt">&lt;/QuantityInTransfer&gt;</span>
            <span class="nt">&lt;QuantityOnRMA&gt;</span>int<span class="nt">&lt;/QuantityOnRMA&gt;</span>
            <span class="nt">&lt;QuantityOnLoan&gt;</span>int<span class="nt">&lt;/QuantityOnLoan&gt;</span>
            <span class="nt">&lt;QuantityCommittedOnOrderEntry&gt;</span>int<span class="nt">&lt;/QuantityCommittedOnOrderEntry&gt;</span>
            <span class="nt">&lt;QuantitySuggestedByVendor&gt;</span>int<span class="nt">&lt;/QuantitySuggestedByVendor&gt;</span>
            <span class="nt">&lt;QuantitySold&gt;</span>int<span class="nt">&lt;/QuantitySold&gt;</span>
            <span class="nt">&lt;GrossQuantitySold&gt;</span>int<span class="nt">&lt;/GrossQuantitySold&gt;</span>
            <span class="nt">&lt;GrossQuantityReturned&gt;</span>int<span class="nt">&lt;/GrossQuantityReturned&gt;</span>
            <span class="nt">&lt;QuantityOrdered&gt;</span>int<span class="nt">&lt;/QuantityOrdered&gt;</span>
            <span class="nt">&lt;QuantityReceived&gt;</span>int<span class="nt">&lt;/QuantityReceived&gt;</span>
            <span class="nt">&lt;DateReceived&gt;</span>string<span class="nt">&lt;/DateReceived&gt;</span>
            <span class="nt">&lt;ProductReceived&gt;</span>boolean<span class="nt">&lt;/ProductReceived&gt;</span>
            <span class="nt">&lt;Enabled&gt;</span>boolean<span class="nt">&lt;/Enabled&gt;</span>
            <span class="nt">&lt;MinMaxLocked&gt;</span>boolean<span class="nt">&lt;/MinMaxLocked&gt;</span>
            <span class="nt">&lt;DoNotOrder&gt;</span>boolean<span class="nt">&lt;/DoNotOrder&gt;</span>
            <span class="nt">&lt;DateEOL&gt;</span>dateTime<span class="nt">&lt;/DateEOL&gt;</span>
            <span class="nt">&lt;RetailPrice&gt;</span>decimal<span class="nt">&lt;/RetailPrice&gt;</span>
            <span class="nt">&lt;SalePrice&gt;</span>decimal<span class="nt">&lt;/SalePrice&gt;</span>
            <span class="nt">&lt;SaleBegin&gt;</span>dateTime<span class="nt">&lt;/SaleBegin&gt;</span>
            <span class="nt">&lt;SaleEnd&gt;</span>dateTime<span class="nt">&lt;/SaleEnd&gt;</span>
          <span class="nt">&lt;/ProductInformation&gt;</span>
          <span class="nt">&lt;ProductInformation&gt;</span>
            <span class="nt">&lt;ProductID&gt;</span>guid<span class="nt">&lt;/ProductID&gt;</span>
            <span class="nt">&lt;ProductSKU&gt;</span>string<span class="nt">&lt;/ProductSKU&gt;</span>
            <span class="nt">&lt;VendorSKU&gt;</span>string<span class="nt">&lt;/VendorSKU&gt;</span>
            <span class="nt">&lt;ProductItemID&gt;</span>int<span class="nt">&lt;/ProductItemID&gt;</span>
            <span class="nt">&lt;CategoryPath&gt;</span>string<span class="nt">&lt;/CategoryPath&gt;</span>
            <span class="nt">&lt;ProductName&gt;</span>string<span class="nt">&lt;/ProductName&gt;</span>
            <span class="nt">&lt;MaximumLevel&gt;</span>int<span class="nt">&lt;/MaximumLevel&gt;</span>
            <span class="nt">&lt;MinimumLevel&gt;</span>int<span class="nt">&lt;/MinimumLevel&gt;</span>
            <span class="nt">&lt;ProductCost&gt;</span>decimal<span class="nt">&lt;/ProductCost&gt;</span>
            <span class="nt">&lt;QuantityInStock&gt;</span>int<span class="nt">&lt;/QuantityInStock&gt;</span>
            <span class="nt">&lt;QuantityOnOrder&gt;</span>int<span class="nt">&lt;/QuantityOnOrder&gt;</span>
            <span class="nt">&lt;QuantityOnUncommittedOrder&gt;</span>int<span class="nt">&lt;/QuantityOnUncommittedOrder&gt;</span>
            <span class="nt">&lt;QuantityOnBackOrder&gt;</span>int<span class="nt">&lt;/QuantityOnBackOrder&gt;</span>
            <span class="nt">&lt;QuantityInTransfer&gt;</span>int<span class="nt">&lt;/QuantityInTransfer&gt;</span>
            <span class="nt">&lt;QuantityOnRMA&gt;</span>int<span class="nt">&lt;/QuantityOnRMA&gt;</span>
            <span class="nt">&lt;QuantityOnLoan&gt;</span>int<span class="nt">&lt;/QuantityOnLoan&gt;</span>
            <span class="nt">&lt;QuantityCommittedOnOrderEntry&gt;</span>int<span class="nt">&lt;/QuantityCommittedOnOrderEntry&gt;</span>
            <span class="nt">&lt;QuantitySuggestedByVendor&gt;</span>int<span class="nt">&lt;/QuantitySuggestedByVendor&gt;</span>
            <span class="nt">&lt;QuantitySold&gt;</span>int<span class="nt">&lt;/QuantitySold&gt;</span>
            <span class="nt">&lt;GrossQuantitySold&gt;</span>int<span class="nt">&lt;/GrossQuantitySold&gt;</span>
            <span class="nt">&lt;GrossQuantityReturned&gt;</span>int<span class="nt">&lt;/GrossQuantityReturned&gt;</span>
            <span class="nt">&lt;QuantityOrdered&gt;</span>int<span class="nt">&lt;/QuantityOrdered&gt;</span>
            <span class="nt">&lt;QuantityReceived&gt;</span>int<span class="nt">&lt;/QuantityReceived&gt;</span>
            <span class="nt">&lt;DateReceived&gt;</span>string<span class="nt">&lt;/DateReceived&gt;</span>
            <span class="nt">&lt;ProductReceived&gt;</span>boolean<span class="nt">&lt;/ProductReceived&gt;</span>
            <span class="nt">&lt;Enabled&gt;</span>boolean<span class="nt">&lt;/Enabled&gt;</span>
            <span class="nt">&lt;MinMaxLocked&gt;</span>boolean<span class="nt">&lt;/MinMaxLocked&gt;</span>
            <span class="nt">&lt;DoNotOrder&gt;</span>boolean<span class="nt">&lt;/DoNotOrder&gt;</span>
            <span class="nt">&lt;DateEOL&gt;</span>dateTime<span class="nt">&lt;/DateEOL&gt;</span>
            <span class="nt">&lt;RetailPrice&gt;</span>decimal<span class="nt">&lt;/RetailPrice&gt;</span>
            <span class="nt">&lt;SalePrice&gt;</span>decimal<span class="nt">&lt;/SalePrice&gt;</span>
            <span class="nt">&lt;SaleBegin&gt;</span>dateTime<span class="nt">&lt;/SaleBegin&gt;</span>
            <span class="nt">&lt;SaleEnd&gt;</span>dateTime<span class="nt">&lt;/SaleEnd&gt;</span>
          <span class="nt">&lt;/ProductInformation&gt;</span>
        <span class="nt">&lt;/ProductsOrdered&gt;</span>
      <span class="nt">&lt;/PurchaseOrder&gt;</span>
    <span class="nt">&lt;/CreatePurchaseOrder&gt;</span>
  <span class="nt">&lt;/soap:Body&gt;</span>
<span class="nt">&lt;/soap:Envelope&gt;</span>

</code></pre>
</div>

<h5 id="example-response-5">Example Response</h5>

<div class="highlighter-rouge"><pre class="highlight"><code>data
</code></pre>
</div>

<h5 id="code-example-5">Code Example</h5>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="n">VendorIdentity</span> <span class="n">vendor</span> <span class="o">=</span> <span class="k">new</span> <span class="n">VendorIdentity</span><span class="o">();</span>
<span class="n">vendor</span><span class="o">.</span><span class="na">VendorID</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Guid</span><span class="o">(</span><span class="n">VMI_VENDORID</span><span class="o">);</span>
<span class="n">vendor</span><span class="o">.</span><span class="na">Username</span> <span class="o">=</span> <span class="n">VMI_USER</span><span class="o">;</span>
<span class="n">vendor</span><span class="o">.</span><span class="na">Password</span> <span class="o">=</span> <span class="n">VMI_PASSWORD</span><span class="o">;</span>
<span class="n">vendor</span><span class="o">.</span><span class="na">Client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ClientAgent</span><span class="o">();</span>
<span class="n">vendor</span><span class="o">.</span><span class="na">Client</span><span class="o">.</span><span class="na">ClientID</span> <span class="o">=</span> <span class="n">companyID</span><span class="o">;</span>
<span class="n">vendor</span><span class="o">.</span><span class="na">Client</span><span class="o">.</span><span class="na">StoreID</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>

<span class="n">DateTime</span> <span class="n">ead1</span> <span class="o">=</span> <span class="n">DateTime</span><span class="o">.</span><span class="na">Today</span><span class="o">.</span><span class="na">AddDays</span><span class="o">(</span><span class="mi">14</span><span class="o">);</span>
<span class="n">string</span> <span class="n">eta</span> <span class="o">=</span> <span class="n">String</span><span class="o">.</span><span class="na">Format</span><span class="o">(</span><span class="s">"{0:D2}/{1:D2}/{2:D4}"</span><span class="o">,</span> <span class="n">ead1</span><span class="o">.</span><span class="na">Month</span><span class="o">,</span> <span class="n">ead1</span><span class="o">.</span><span class="na">Day</span><span class="o">,</span> <span class="n">ead1</span><span class="o">.</span><span class="na">Year</span><span class="o">);</span>
<span class="n">PurchaseOrder</span> <span class="n">po</span> <span class="o">=</span> <span class="k">new</span> <span class="n">PurchaseOrder</span><span class="o">();</span>
<span class="n">po</span><span class="o">.</span><span class="na">PurchaseOrderID</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Guid</span><span class="o">();</span>
<span class="n">po</span><span class="o">.</span><span class="na">PurchaseOrderData</span> <span class="o">=</span> <span class="k">new</span> <span class="n">PurchaseOrderData</span><span class="o">();</span>
<span class="n">po</span><span class="o">.</span><span class="na">PurchaseOrderData</span><span class="o">.</span><span class="na">BillToStoreID</span> <span class="o">=</span> <span class="n">stores</span><span class="o">[</span><span class="mi">0</span><span class="o">].</span><span class="na">StoreID</span><span class="o">;</span>
<span class="n">po</span><span class="o">.</span><span class="na">PurchaseOrderData</span><span class="o">.</span><span class="na">Comments</span> <span class="o">=</span> <span class="s">"Test purchase order"</span><span class="o">;</span>
<span class="n">po</span><span class="o">.</span><span class="na">PurchaseOrderData</span><span class="o">.</span><span class="na">ShipToStoreID</span> <span class="o">=</span> <span class="n">stores</span><span class="o">[</span><span class="mi">0</span><span class="o">].</span><span class="na">StoreID</span><span class="o">;</span>
<span class="n">po</span><span class="o">.</span><span class="na">PurchaseOrderData</span><span class="o">.</span><span class="na">VendorInvoiceNumber</span> <span class="o">=</span> <span class="s">"123456789"</span><span class="o">;</span>
<span class="n">po</span><span class="o">.</span><span class="na">PurchaseOrderData</span><span class="o">.</span><span class="na">EstimatedArrivalDate</span> <span class="o">=</span> <span class="n">eta</span><span class="o">;</span>

<span class="n">po</span><span class="o">.</span><span class="na">ProductsOrdered</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ProductInformation</span><span class="o">[</span><span class="mi">1</span><span class="o">];</span>
<span class="n">po</span><span class="o">.</span><span class="na">ProductsOrdered</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ProductInformation</span><span class="o">();</span>
<span class="n">po</span><span class="o">.</span><span class="na">ProductsOrdered</span><span class="o">[</span><span class="mi">0</span><span class="o">].</span><span class="na">ProductItemID</span> <span class="o">=</span> <span class="n">productID</span><span class="o">;</span>
<span class="n">po</span><span class="o">.</span><span class="na">ProductsOrdered</span><span class="o">[</span><span class="mi">0</span><span class="o">].</span><span class="na">ProductName</span> <span class="o">=</span> <span class="s">"Super Phone"</span><span class="o">;</span>
<span class="n">po</span><span class="o">.</span><span class="na">ProductsOrdered</span><span class="o">[</span><span class="mi">0</span><span class="o">].</span><span class="na">ProductSKU</span> <span class="o">=</span> <span class="s">"PSKU123"</span><span class="o">;</span>
<span class="n">po</span><span class="o">.</span><span class="na">ProductsOrdered</span><span class="o">[</span><span class="mi">0</span><span class="o">].</span><span class="na">VendorSKU</span> <span class="o">=</span> <span class="s">"VSKU123"</span><span class="o">;</span>
<span class="n">po</span><span class="o">.</span><span class="na">ProductsOrdered</span><span class="o">[</span><span class="mi">0</span><span class="o">].</span><span class="na">QuantityOrdered</span> <span class="o">=</span> <span class="mi">2</span><span class="o">;</span>
<span class="n">po</span><span class="o">.</span><span class="na">ProductsOrdered</span><span class="o">[</span><span class="mi">0</span><span class="o">].</span><span class="na">ProductCost</span> <span class="o">=</span> <span class="mf">500.00</span><span class="o">;</span>

<span class="n">PurchaseOrder</span> <span class="n">poCreated</span> <span class="o">=</span> <span class="n">vmiService</span><span class="o">.</span><span class="na">CreatePurchaseOrder</span><span class="o">(</span><span class="n">vendor</span><span class="o">,</span> <span class="n">po</span><span class="o">);</span>

</code></pre>
</div>

<h2 id="step-8---optional-create-purchase-order-shipment-notice-asn">Step 8 - (Optional) Create Purchase Order Shipment Notice (ASN)</h2>

<p>This method allows the vendor to create a shipment notice for an existing purchase order. The shipment notice will be used when receiving purchase order products with serial numbers. Multiple shipment notices can be created for a single purchase order. Each shipment notice is for a single product. If more than one product appears in a shipment, create one shipment notice for each product, but use the same shipment number for all products in the same shipment.  Note: this call will take an array of PurchaseOrderShipmentNotice objects, so there is no need to call the VMI service once for each product in an order.</p>

<p>CreatePurchaseOrderShipmentNotice() (Optional) This method can be called to supply notification that products have shipped and any applicable serial numbers may be supplied.</p>

<h5 id="example-request-6">Example Request</h5>

<div class="highlighter-rouge"><pre class="highlight"><code>POST https://vmidemo.iqmetrix.net/VMIService.asmx
Content-Type: text/xml; charset=utf-8
Content-Length: length
SOAPAction: "http://www.iqmetrix.com/CreatePurchaseOrderShipmentNotice"
</code></pre>
</div>
<div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;soap:Envelope</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span> <span class="na">xmlns:soap=</span><span class="s">"http://schemas.xmlsoap.org/soap/envelope/"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;soap:Body&gt;</span>
    <span class="nt">&lt;CreatePurchaseOrderShipmentNotice</span> <span class="na">xmlns=</span><span class="s">"http://www.iqmetrix.com"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;vendor&gt;</span>
        <span class="nt">&lt;VendorID&gt;</span>guid<span class="nt">&lt;/VendorID&gt;</span>
        <span class="nt">&lt;Username&gt;</span>string<span class="nt">&lt;/Username&gt;</span>
        <span class="nt">&lt;Password&gt;</span>string<span class="nt">&lt;/Password&gt;</span>
        <span class="nt">&lt;Client&gt;</span>
          <span class="nt">&lt;ClientID&gt;</span>guid<span class="nt">&lt;/ClientID&gt;</span>
          <span class="nt">&lt;Name&gt;</span>string<span class="nt">&lt;/Name&gt;</span>
          <span class="nt">&lt;StoreID&gt;</span>int<span class="nt">&lt;/StoreID&gt;</span>
          <span class="nt">&lt;VendorAccountNumber&gt;</span>string<span class="nt">&lt;/VendorAccountNumber&gt;</span>
        <span class="nt">&lt;/Client&gt;</span>
      <span class="nt">&lt;/vendor&gt;</span>
      <span class="nt">&lt;notice&gt;</span>
        <span class="nt">&lt;PurchaseOrderShipmentNotice&gt;</span>
          <span class="nt">&lt;ShipmentNumber&gt;</span>string<span class="nt">&lt;/ShipmentNumber&gt;</span>
          <span class="nt">&lt;PurchaseOrderID&gt;</span>guid<span class="nt">&lt;/PurchaseOrderID&gt;</span>
          <span class="nt">&lt;RQPurchaseOrderID&gt;</span>int<span class="nt">&lt;/RQPurchaseOrderID&gt;</span>
          <span class="nt">&lt;VendorInvoiceNumber&gt;</span>string<span class="nt">&lt;/VendorInvoiceNumber&gt;</span>
          <span class="nt">&lt;ProductItemID&gt;</span>int<span class="nt">&lt;/ProductItemID&gt;</span>
          <span class="nt">&lt;Quantity&gt;</span>int<span class="nt">&lt;/Quantity&gt;</span>
          <span class="nt">&lt;VendorSKU&gt;</span>string<span class="nt">&lt;/VendorSKU&gt;</span>
          <span class="nt">&lt;SerialNumbers&gt;</span>
            <span class="nt">&lt;string&gt;</span>string<span class="nt">&lt;/string&gt;</span>
            ...
          <span class="nt">&lt;/SerialNumbers&gt;</span>
        <span class="nt">&lt;/PurchaseOrderShipmentNotice&gt;</span>
        ...
      <span class="nt">&lt;/notice&gt;</span>
    <span class="nt">&lt;/CreatePurchaseOrderShipmentNotice&gt;</span>
  <span class="nt">&lt;/soap:Body&gt;</span>
<span class="nt">&lt;/soap:Envelope&gt;</span>

</code></pre>
</div>

<h5 id="example-response-6">Example Response</h5>

<div class="highlighter-rouge"><pre class="highlight"><code>data
</code></pre>
</div>

<h5 id="code-example-6">Code Example</h5>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="n">VendorIdentity</span> <span class="n">vendor</span> <span class="o">=</span> <span class="k">new</span> <span class="n">VendorIdentity</span><span class="o">();</span>
<span class="n">vendor</span><span class="o">.</span><span class="na">VendorID</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Guid</span><span class="o">(</span><span class="n">VMI_VENDORID</span><span class="o">);</span>
<span class="n">vendor</span><span class="o">.</span><span class="na">Username</span> <span class="o">=</span> <span class="n">VMI_USER</span><span class="o">;</span>
<span class="n">vendor</span><span class="o">.</span><span class="na">Password</span> <span class="o">=</span> <span class="n">VMI_PASSWORD</span><span class="o">;</span>
<span class="n">vendor</span><span class="o">.</span><span class="na">Client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ClientAgent</span><span class="o">();</span>
<span class="n">vendor</span><span class="o">.</span><span class="na">Client</span><span class="o">.</span><span class="na">ClientID</span> <span class="o">=</span> <span class="n">companyID</span><span class="o">;</span>
<span class="n">vendor</span><span class="o">.</span><span class="na">Client</span><span class="o">.</span><span class="na">StoreID</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>

<span class="n">PurchaseOrderShipmentNotice</span> <span class="n">sn</span> <span class="o">=</span> <span class="k">new</span> <span class="n">PurchaseOrderShipmentNotice</span><span class="o">();</span>
<span class="n">sn</span><span class="o">.</span><span class="na">PurchaseOrderID</span> <span class="o">=</span> <span class="n">POID</span><span class="o">;</span>

<span class="n">sn</span><span class="o">.</span><span class="na">ShipmentNumber</span> <span class="o">=</span> <span class="s">"Shipment1 "</span><span class="o">;</span>
<span class="n">sn</span><span class="o">.</span><span class="na">ProductItemID</span> <span class="o">=</span> <span class="n">productID</span><span class="o">;</span>
<span class="n">sn</span><span class="o">.</span><span class="na">Quantity</span> <span class="o">=</span> <span class="mi">2</span><span class="o">;</span>
<span class="n">sn</span><span class="o">.</span><span class="na">SerialNumber</span> <span class="o">=</span> <span class="o">{</span><span class="s">"12321323"</span><span class="o">,</span> <span class="s">"12321324"</span><span class="o">};</span>

<span class="n">PurchaseOrderShipmentNotice</span> <span class="n">snReturn</span> <span class="o">=</span> 
    <span class="n">vmiService</span><span class="o">.</span><span class="na">CreatePurchaseOrderShipmentNotice</span><span class="o">(</span><span class="n">vendor</span><span class="o">,</span> <span class="k">new</span><span class="o">[]</span> <span class="o">{</span> <span class="n">sn</span> <span class="o">});</span>

</code></pre>
</div>

<h2 id="step-9---get-inventory-list">Step 9 - Get Inventory List</h2>

<p>Retrieves an inventory of products for which the vendor is set as the primary vendor in RQ</p>

<h5 id="example-request-7">Example Request</h5>

<div class="highlighter-rouge"><pre class="highlight"><code>POST https://vmidemo.iqmetrix.net/VMIService.asmx
Content-Type: text/xml; charset=utf-8
Content-Length: length
SOAPAction: "http://www.iqmetrix.com/GetInventoryList"
</code></pre>
</div>
<div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;soap:Envelope</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span> <span class="na">xmlns:soap=</span><span class="s">"http://schemas.xmlsoap.org/soap/envelope/"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;soap:Body&gt;</span>
    <span class="nt">&lt;GetInventoryList</span> <span class="na">xmlns=</span><span class="s">"http://www.iqmetrix.com"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;Vendor&gt;</span>
        <span class="nt">&lt;VendorID&gt;</span>guid<span class="nt">&lt;/VendorID&gt;</span>
        <span class="nt">&lt;Username&gt;</span>string<span class="nt">&lt;/Username&gt;</span>
        <span class="nt">&lt;Password&gt;</span>string<span class="nt">&lt;/Password&gt;</span>
        <span class="nt">&lt;Client&gt;</span>
          <span class="nt">&lt;ClientID&gt;</span>guid<span class="nt">&lt;/ClientID&gt;</span>
          <span class="nt">&lt;Name&gt;</span>string<span class="nt">&lt;/Name&gt;</span>
          <span class="nt">&lt;StoreID&gt;</span>int<span class="nt">&lt;/StoreID&gt;</span>
          <span class="nt">&lt;VendorAccountNumber&gt;</span>string<span class="nt">&lt;/VendorAccountNumber&gt;</span>
        <span class="nt">&lt;/Client&gt;</span>
      <span class="nt">&lt;/Vendor&gt;</span>
    <span class="nt">&lt;/GetInventoryList&gt;</span>
  <span class="nt">&lt;/soap:Body&gt;</span>
<span class="nt">&lt;/soap:Envelope&gt;</span>

</code></pre>
</div>

<h5 id="example-response-7">Example Response</h5>

<div class="highlighter-rouge"><pre class="highlight"><code>data
</code></pre>
</div>

<h5 id="code-example-7">Code Example</h5>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="n">VendorIdentity</span> <span class="n">vendor</span> <span class="o">=</span> <span class="k">new</span> <span class="n">VendorIdentity</span><span class="o">();</span>
<span class="n">vendor</span><span class="o">.</span><span class="na">VendorID</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Guid</span><span class="o">(</span><span class="n">VMI_VENDORID</span><span class="o">);</span>
<span class="n">vendor</span><span class="o">.</span><span class="na">Username</span> <span class="o">=</span> <span class="n">VMI_USER</span><span class="o">;</span>
<span class="n">vendor</span><span class="o">.</span><span class="na">Password</span> <span class="o">=</span> <span class="n">VMI_PASSWORD</span><span class="o">;</span>
<span class="n">vendor</span><span class="o">.</span><span class="na">Client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ClientAgent</span><span class="o">();</span>
<span class="n">vendor</span><span class="o">.</span><span class="na">Client</span><span class="o">.</span><span class="na">ClientID</span> <span class="o">=</span> <span class="n">companyID</span><span class="o">;</span>

<span class="n">VMIServiceSoapClient</span> <span class="n">vmiService</span> <span class="o">=</span> <span class="k">new</span> <span class="n">VMIServiceSoapClient</span><span class="o">();</span> 
<span class="n">HierarchyInfo</span> <span class="n">hierarcy</span> <span class="o">=</span> <span class="n">vmiService</span><span class="o">.</span><span class="na">GetHierarchyInfo</span><span class="o">(</span><span class="n">vendor</span><span class="o">);</span> 
<span class="c1">//note: see GetGeographicInventoryReport for an example of better hierarchy usage</span>

<span class="n">InventoryListingData</span><span class="o">[]</span> <span class="n">data</span> <span class="o">=</span> <span class="n">vmiService</span><span class="o">.</span><span class="na">GetInventoryListingReport</span><span class="o">(</span><span class="n">vendor</span><span class="o">,</span> 
<span class="n">hierarchy</span><span class="o">.</span><span class="na">Channels</span><span class="o">[</span><span class="mi">0</span><span class="o">].</span><span class="na">channelID</span><span class="o">,</span> <span class="o">-</span><span class="mi">1</span><span class="o">,</span> <span class="o">-</span><span class="mi">1</span><span class="o">,</span> <span class="o">-</span><span class="mi">1</span><span class="o">);</span>

</code></pre>
</div>

<h2 id="step-10---next-steps">Step 10 - Next Steps</h2>

<p>Now that you have completed the basic steps for working with feeds in the iQmetrix API, you can start the integration process from the <a href="/guides/dropship-order-guide">Dropship Order Management Guide</a>.</p>


      </div>
      <div class="dark-box">
            <div class="lang-selector">
               <a href="#" data-language-name="javascript">javascript</a>
               <a href="#" data-language-name="shell">cURL</a>
               <a href="#" data-language-name="csharp">c#</a>
               <a href="#" data-language-name="java">java</a>
               <a href="#" data-language-name="ruby">ruby</a>
            </div>
         </div>
    </div>

  </body>


  <!-- the google_analytics_id gets auto inserted from the config file -->


<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-408430-5', 'auto');
    ga('send', 'pageview');
</script>



</html>
